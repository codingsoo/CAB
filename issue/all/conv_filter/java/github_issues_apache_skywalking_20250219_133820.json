[
  {
    "number": 7414,
    "title": "Information on Openapi based Endpoint Grouping",
    "created_at": "2021-08-05T11:42:22Z",
    "closed_at": "2021-08-07T01:53:48Z",
    "labels": [
      "bug",
      "question"
    ],
    "url": "https://github.com/apache/skywalking/issues/7414",
    "body": "Please answer these questions before submitting your issue.\r\n\r\n- Why do you submit this issue?\r\n- [x] Question or discussion\r\n- [  ] Bug\r\n- [  ] Requirement\r\n- [  ] Feature or performance improvement\r\n\r\n___\r\n### Question\r\n- What do you want to know?\r\n1 - Are there any limits on openapi yaml files? I have used EndpointGroupingRuleReader4OpenapiTest and that class does not load my openapi definition which is over 3000 lines. I figured checkstyle is limiting the definition file limits. Can i increase these values via ENV variable? \r\n\r\n2 - I couldn't tell if skywalking-server correctly loaded my openapi file or not based on logs. I think there should be logging if no file loaded etc.\r\n\r\n3 - getGroupRegex method does not care for statically added server context paths. (For example endpoint is /records but server is setup as /api/records). This information usually goes to servers.url in openapi definition (server.url being '/api' in this case). Should we consider such setup?\r\n",
    "comments_url": "https://api.github.com/repos/apache/skywalking/issues/7414/comments",
    "author": "onurccn",
    "comments": [
      {
        "user": "wu-sheng",
        "created_at": "2021-08-05T13:11:43Z",
        "body": "> What do you want to know?\r\n1 - Are there any limits on openapi yaml files? I have used EndpointGroupingRuleReader4OpenapiTest and that class does not load my openapi definition which is over 3000 lines. I figured checkstyle is limiting the definition file limits. Can i increase these values via ENV variable?\r\n\r\nI think we don't limit size, and checkstyle is only working for IDE, rather than runtime. Could you share more about this?\r\n\r\n> 2 - I couldn't tell if skywalking-server correctly loaded my openapi file or not based on logs. I think there should be logging if no file loaded etc.\r\n\r\nWelcome to send a pull request to enhance this. This is a new feature, we are glad to see the feedback.\r\n\r\n> 3 - getGroupRegex method does not care for statically added server context paths. (For example endpoint is /records but server is setup as /api/records). This information usually goes to servers.url in openapi definition (server.url being '/api' in this case). Should we consider such setup?\r\n\r\nWe should consider that. Do you have anything to pull request?"
      },
      {
        "user": "onurccn",
        "created_at": "2021-08-05T13:33:11Z",
        "body": "Firstly, thanks for the quick reply!\r\n\r\n> > What do you want to know?\r\n> > 1 - Are there any limits on openapi yaml files? I have used EndpointGroupingRuleReader4OpenapiTest and that class does not load my openapi definition which is over 3000 lines. I figured checkstyle is limiting the definition file limits. Can i increase these values via ENV variable?\r\n> \r\n> I think we don't limit size, and checkstyle is only working for IDE, rather than runtime. Could you share more about this?\r\n\r\nIts good to hear that its not applied on runtime. I have placed my openapi file under openapi-definitions folder within project and run tests from IDE, that explains why i couldnt load my file in the first place.\r\n\r\nAlso I couldn't run tests with openapi-defitinions folder outside project path. (ex. /tmp/openapi-definitions). ClassLoader cant reach that location. Maybe this is happening on runtime as well. Because i think i cant get i to load my yaml files. Glad to provide more detailed feedback if you direct me how to get them.\r\n\r\nI will try to open a pull request for improvements whenever i can.  \r\n\r\n"
      },
      {
        "user": "wankai123",
        "created_at": "2021-08-05T14:07:47Z",
        "body": "> Firstly, thanks for the quick reply!\r\n> \r\n> > > What do you want to know?\r\n> > > 1 - Are there any limits on openapi yaml files? I have used EndpointGroupingRuleReader4OpenapiTest and that class does not load my openapi definition which is over 3000 lines. I figured checkstyle is limiting the definition file limits. Can i increase these values via ENV variable?\r\n> > \r\n> > \r\n> > I think we don't limit size, and checkstyle is only working for IDE, rather than runtime. Could you share more about this?\r\n> \r\n> Its good to hear that its not applied on runtime. I have placed my openapi file under openapi-definitions folder within project and run tests from IDE, that explains why i couldnt load my file in the first place.\r\n> \r\n> Also I couldn't run tests with openapi-defitinions folder outside project path. (ex. /tmp/openapi-definitions). ClassLoader cant reach that location. Maybe this is happening on runtime as well. Because i think i cant get i to load my yaml files. Glad to provide more detailed feedback if you direct me how to get them.\r\n> \r\n> I will try to open a pull request for improvements whenever i can.\r\n\r\nDid you put the openapi file under `skywalking/oap-server/server-core/src/test/resources/openapi-definitions` ? If you run a test you need to put it under the test resources, not the server-bootstrap resources. There are also some samples under test resources."
      },
      {
        "user": "wu-sheng",
        "created_at": "2021-08-05T14:43:43Z",
        "body": "> Also I couldn't run tests with openapi-defitinions folder outside project path. (ex. /tmp/openapi-definitions).\r\n\r\nThat is not SkyWalking's codes are designed for.  Please read @wankai123 's comments. Could you share a little about why you want the codes running outside? Are you trying to integrate it somewhere else?"
      },
      {
        "user": "onurccn",
        "created_at": "2021-08-06T07:04:56Z",
        "body": "> > Also I couldn't run tests with openapi-defitinions folder outside project path. (ex. /tmp/openapi-definitions).\r\n> \r\n> That is not SkyWalking's codes are designed for. Please read @wankai123 's comments. Could you share a little about why you want the codes running outside? Are you trying to integrate it somewhere else?\r\n\r\nActually, I do not. I'm just trying to get it working on runtime. I thought it might be related with my openapi definitions folder location."
      },
      {
        "user": "wankai123",
        "created_at": "2021-08-06T07:20:11Z",
        "body": "where did you put it?  you can try to put it under `config/openapi-definitions` if you can't found the folder `openapi-definitions` under `config`, try to create one by yourself."
      },
      {
        "user": "onurccn",
        "created_at": "2021-08-06T07:27:49Z",
        "body": "> where did you put it? you can try to put it under `config/openapi-definitions` if you can't found the folder `openapi-definitions` under `config`, try to create one by yourself.\r\n\r\nYeah currently it is located there."
      }
    ]
  },
  {
    "number": 7037,
    "title": "A question about MetricsPersistentWorker context map",
    "created_at": "2021-05-29T08:03:16Z",
    "closed_at": "2021-05-29T08:12:18Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/apache/skywalking/issues/7037",
    "body": "Please answer these questions before submitting your issue.\r\n\r\n- Why do you submit this issue?\r\n- [x] Question or discussion\r\n- [ ] Bug\r\n- [ ] Requirement\r\n- [ ] Feature or performance improvement\r\n\r\n___\r\n### Question\r\n- What do you want to know?\r\n\r\nHi, I have a question about the code of  `MetricsPersistentWorker`.\r\n\r\n```java\r\nprivate void flushDataToStorage(List<Metrics> metricsList,\r\n                                    List<PrepareRequest> prepareRequests) {\r\n        try {\r\n            loadFromStorage(metricsList);\r\n\r\n            for (Metrics metrics : metricsList) {\r\n                Metrics cachedMetrics = context.get(metrics);\r\n                if (cachedMetrics != null) {\r\n                    /*\r\n                     * If the metrics is not supportUpdate, defined through MetricsExtension#supportUpdate,\r\n                     * then no merge and further process happens.\r\n                     */\r\n                    if (!supportUpdate) {\r\n                        continue;\r\n                    }\r\n                    /*\r\n                     * Merge metrics into cachedMetrics, change only happens inside cachedMetrics.\r\n                     */\r\n                    final boolean isAbandoned = !cachedMetrics.combine(metrics);\r\n                    if (isAbandoned) {\r\n                        continue;\r\n                    }\r\n                    cachedMetrics.calculate();\r\n                    prepareRequests.add(metricsDAO.prepareBatchUpdate(model, cachedMetrics));\r\n                    nextWorker(cachedMetrics);\r\n                } else {\r\n                    metrics.calculate();\r\n                    prepareRequests.add(metricsDAO.prepareBatchInsert(model, metrics));\r\n                    nextWorker(metrics);\r\n                }\r\n\r\n                /*\r\n                 * The `metrics` should be not changed in all above process. Exporter is an async process.\r\n                 */\r\n                nextExportWorker.ifPresent(exportEvenWorker -> exportEvenWorker.in(\r\n                    new ExportEvent(metrics, ExportEvent.EventType.INCREMENT)));\r\n            }\r\n        } catch (Throwable t) {\r\n            log.error(t.getMessage(), t);\r\n        } finally {\r\n            metricsList.clear();\r\n        }\r\n    }\r\n```\r\nIn the function `flushDataToStorage`, a metrics object which not stored in `context` is considered as a new metrics, otherwise, it needs to be combined with the old metrics in `context`. After `prepareRequests` of a new metrics generated, we don't put this new metrics into `context`. So in the next run of `PersistenceTimer`, when a metrics with same id comes, we have to query db again. Is there some problems cause that we can't put a new metrics object into context?\r\n\r\nThanks.\r\n",
    "comments_url": "https://api.github.com/repos/apache/skywalking/issues/7037/comments",
    "author": "andyzzl",
    "comments": [
      {
        "user": "wu-sheng",
        "created_at": "2021-05-29T08:12:18Z",
        "body": ">  a metrics object which not stored in context is considered as a new metrics, otherwise, it needs to be combined with the old metrics in context\r\n\r\nThis is not a correct conclusion. Read `#loadFromStorage`, `context#put` is called if metrics could be loaded from database."
      },
      {
        "user": "andyzzl",
        "created_at": "2021-05-29T08:27:43Z",
        "body": "Sorry I didn't make it clear. I mean after `loadFromStorage` called, if a metrics can't be found in `context` still,  it is a new metrics."
      },
      {
        "user": "wu-sheng",
        "created_at": "2021-05-29T08:47:03Z",
        "body": "> Sorry I didn't make it clear. I mean after `loadFromStorage` called, if a metrics can't be found in `context` still, it is a new metrics.\r\n\r\nWhy it isn't?  It means you need to insert it into the database, rather than updating."
      },
      {
        "user": "andyzzl",
        "created_at": "2021-05-29T09:02:01Z",
        "body": "After prepareRequests generated, we can put it into context, both db and context are updated. So we don\u2019t need to query db in next run."
      },
      {
        "user": "wu-sheng",
        "created_at": "2021-05-29T09:12:04Z",
        "body": "That depends on the context. I deleted a comment about this.\r\n\r\nThinking about this, if your service includes parameterized URI, such as `/prod/{id}/create`, but you don't always have grouping rules, or SpringMVC(even you have, there is Gateway before your Spring controller codes), then every request could create different endpoints. All these endpoints have one access but cost memory for nearly 1 minute.(context only has an expired period).\r\nConsidering this, do you still want to add this logic?"
      },
      {
        "user": "andyzzl",
        "created_at": "2021-05-29T09:43:15Z",
        "body": "Oh, I never thought of this situation. It do cost too much memory. Thank you for your explanation."
      }
    ]
  },
  {
    "number": 6750,
    "title": "Why remove the query `getGlobalBrief` logic?",
    "created_at": "2021-04-14T07:52:49Z",
    "closed_at": "2021-04-14T08:16:41Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/apache/skywalking/issues/6750",
    "body": "Please answer these questions before submitting your issue.\r\n\r\n- Why do you submit this issue?\r\n  - [X] Question or discussion\r\n\r\n___\r\n### Question\r\n\r\nHi, @wu-sheng. I noticed you remove the query `getGlobalBrief` logic, and keep it return mock data.\r\nI have tried to find why from issue or PR, but there was nothing about that. I wanna know why? Because I think the query `getGlobalBrief` is useful, has there some problems?\r\n\r\n`org.apache.skywalking.oap.query.graphql.resolver.MetadataQuery#getGlobalBrief`\r\n```java\r\n/**\r\n * @return all 0 of metadata.\r\n */\r\n@Deprecated\r\npublic ClusterBrief getGlobalBrief(final Duration duration) throws IOException, ParseException {\r\n    return new ClusterBrief();\r\n}\r\n```\r\n\r\n",
    "comments_url": "https://api.github.com/repos/apache/skywalking/issues/6750/comments",
    "author": "nisiyong",
    "comments": [
      {
        "user": "wu-sheng",
        "created_at": "2021-04-14T08:15:44Z",
        "body": "Because there is no metadata query available on the UI. "
      },
      {
        "user": "nisiyong",
        "created_at": "2021-04-14T08:45:23Z",
        "body": "> Because there is no metadata query available on the UI.\r\n\r\nYou mean the backend has metadata, but the current UI doesn't want to show that?"
      },
      {
        "user": "wu-sheng",
        "created_at": "2021-04-14T08:47:54Z",
        "body": "> You mean the backend has metadata, but the current UI doesn't want to show that?\r\n\r\nYes. We can't find the points of showing how many services/instances/endpoints. SkyWalking is not a BI system, APM doesn't care the number of them, it cares the performance."
      },
      {
        "user": "nisiyong",
        "created_at": "2021-04-14T09:42:13Z",
        "body": "Agree, thanks. By the way, I just want to add `ServiceBrief` like `GlobalBrief` in our internal system, we can do it by ourselves base on the SkyWalking core."
      },
      {
        "user": "wu-sheng",
        "created_at": "2021-04-14T09:50:57Z",
        "body": ">  By the way, I just want to add ServiceBrief like GlobalBrief in our internal system, we can do it by ourselves base on the SkyWalking core.\r\n\r\nIt is totally fine to do anything you believe useful in the private version. :) This is common in the open source.\r\n"
      }
    ]
  },
  {
    "number": 6617,
    "title": "Docker 8.4.0-ES7 failed to boot",
    "created_at": "2021-03-24T09:17:01Z",
    "closed_at": "2021-03-24T09:18:18Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/apache/skywalking/issues/6617",
    "body": "Please answer these questions before submitting your issue.\r\n\r\n- Why do you submit this issue?\r\n- [x] Question or discussion\r\n- [ ] Bug\r\n- [ ] Requirement\r\n- [ ] Feature or performance improvement\r\n\r\n___\r\n### Question\r\n- es7 + docker image 8.4.0-es7 start error\r\n`2021-03-24 17:12:46,670 - org.apache.skywalking.oap.server.starter.OAPServerBootstrap -8657 [main] ERROR [] - 'boolean org.elasticsearch.client.RestHighLevelClient.ping(org.apache.http.Header[])'\r\njava.lang.NoSuchMethodError: 'boolean org.elasticsearch.client.RestHighLevelClient.ping(org.apache.http.Header[])'\r\n\tat org.apache.skywalking.oap.server.library.client.elasticsearch.ElasticSearchClient.connect(ElasticSearchClient.java:146) ~[library-client-8.4.0.jar:8.4.0]\r\n\tat org.apache.skywalking.oap.server.storage.plugin.elasticsearch.StorageModuleElasticsearchProvider.start(StorageModuleElasticsearchProvider.java:202) ~[storage-elasticsearch-plugin-8.4.0.jar:8.4.0]\r\n\tat org.apache.skywalking.oap.server.library.module.BootstrapFlow.start(BootstrapFlow.java:49) ~[library-module-8.4.0.jar:8.4.0]\r\n\tat org.apache.skywalking.oap.server.library.module.ModuleManager.init(ModuleManager.java:62) ~[library-module-8.4.0.jar:8.4.0]\r\n\tat org.apache.skywalking.oap.server.starter.OAPServerBootstrap.start(OAPServerBootstrap.java:43) [server-bootstrap-8.4.0.jar:8.4.0]\r\n\tat org.apache.skywalking.oap.server.starter.OAPServerStartUp.main(OAPServerStartUp.java:27) [server-starter-es7-8.4.0.jar:8.4.0]\r\n`\r\n\r\nStart the command\r\n`\r\ndocker run --name oap --restart always -d \\\r\n--restart=always \\\r\n--net esnetwork \\\r\n-e TZ=Asia/Shanghai \\\r\n-p 12800:12800 \\\r\n-p 11800:11800 \\\r\n--link es7:es7 \\\r\n-e SW_STORAGE=elasticsearch \\\r\n-e SW_STORAGE_ES_CLUSTER_NODES=es7:9200 \\\r\napache/skywalking-oap-server:8.4.0-es7\r\n`\r\n\r\n___\r\n### Bug\r\n- Which version of SkyWalking, OS, and JRE?\r\n\r\n- Which company or project?\r\n\r\n- What happened?\r\nIf possible, provide a way to reproduce the error. e.g. demo application, component version.\r\n\r\n___\r\n### Requirement or improvement\r\n- Please describe your requirements or improvement suggestions.\r\n",
    "comments_url": "https://api.github.com/repos/apache/skywalking/issues/6617/comments",
    "author": "Maijh97",
    "comments": [
      {
        "user": "wu-sheng",
        "created_at": "2021-03-24T09:18:18Z",
        "body": "Use `SW_STORAGE=elasticsearch7`."
      },
      {
        "user": "Maijh97",
        "created_at": "2021-03-24T09:20:32Z",
        "body": "@wu-sheng It worked. Thank you"
      }
    ]
  },
  {
    "number": 6425,
    "title": "java.lang.OutOfMemoryError when the workdir is \"/\"",
    "created_at": "2021-02-23T10:58:27Z",
    "closed_at": "2021-02-23T11:33:09Z",
    "labels": [
      "bug",
      "question"
    ],
    "url": "https://github.com/apache/skywalking/issues/6425",
    "body": "Please answer these questions before submitting your issue.\r\n\r\n- Why do you submit this issue?\r\n- [ ] Question or discussion\r\n- [x] Bug\r\n- [ ] Requirement\r\n- [ ] Feature or performance improvement\r\n\r\n___\r\n### Bug\r\n- Which version of SkyWalking, OS, and JRE?\r\n8.x\r\n\r\n\r\n java.lang.OutOfMemoryError: Java heap space\r\n        at java.io.UnixFileSystem.resolve(UnixFileSystem.java:110) ~[?:?]\r\n        at java.io.File.<init>(File.java:263) ~[?:?]\r\n        at java.io.File.listFiles(File.java:1226) ~[?:?]\r\n        at com.google.common.reflect.ClassPath$DefaultScanner.scanDirectory(ClassPath.java:551) ~[guava-28.1-jre.jar:?]\r\n        at com.google.common.reflect.ClassPath$DefaultScanner.scanDirectory(ClassPath.java:562) ~[guava-28.1-jre.jar:?]\r\n        at com.google.common.reflect.ClassPath$DefaultScanner.scanDirectory(ClassPath.java:562) ~[guava-28.1-jre.jar:?]\r\n\r\n\r\nwhen I run the command\r\nsh /${skywalking_home}/bin/startup.sh\r\nThe current dir \"/\" is added to the classpath by this code\r\n> CLASSPATH=\"$OAP_HOME/config:$CLASSPATH\"\r\n\r\nBecause the CLASSPATH may be empty before.",
    "comments_url": "https://api.github.com/repos/apache/skywalking/issues/6425/comments",
    "author": "libinglong",
    "comments": [
      {
        "user": "wu-sheng",
        "created_at": "2021-02-23T11:00:39Z",
        "body": "This is new, we never expect you will run in this way."
      },
      {
        "user": "libinglong",
        "created_at": "2021-02-23T11:04:59Z",
        "body": "> This is new, we never expect you will run in this way.\r\n\r\nI want to run it in a docker container. I copy the skywalking-home to \"/\" which causes this problem."
      },
      {
        "user": "wu-sheng",
        "created_at": "2021-02-23T11:12:19Z",
        "body": "We have officer container image, take a look."
      },
      {
        "user": "libinglong",
        "created_at": "2021-02-23T11:32:06Z",
        "body": "> We have officer container image, take a look.\r\n\r\nOK, thank u."
      }
    ]
  },
  {
    "number": 6061,
    "title": "[javaagent] agent.sample_n_per_3_secs config stands for TraceSegment?",
    "created_at": "2020-12-23T02:57:05Z",
    "closed_at": "2020-12-23T02:59:03Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/apache/skywalking/issues/6061",
    "body": "Dear skywalking team.\r\nAs I read skywalking agent code, **agent.sample_n_per_3_secs** this config stands for upper limit of TraceSegment, is it right?\r\nAs one TraceSegment can hold many spans, just suppose 1 TraceSegment has 3 spans, \r\nif **agent.sample_n_per_3_secs** set to 150, then the upper limit of spans has been 450.\r\nIs it right? ",
    "comments_url": "https://api.github.com/repos/apache/skywalking/issues/6061/comments",
    "author": "lijial",
    "comments": [
      {
        "user": "wu-sheng",
        "created_at": "2020-12-23T02:59:03Z",
        "body": "Yes, but span doesn't matter for SkyWalking, especially at the storage level."
      },
      {
        "user": "lijial",
        "created_at": "2020-12-23T03:08:47Z",
        "body": "@wu-sheng \r\n>Yes, but span doesn't matter for SkyWalking, especially at the storage level.\r\n\r\n\r\n**agent.sample_n_per_3_secs** config cannot measure network flow accuracy\r\nEven **agent.sample_n_per_3_secs** is numeric small , but the whole network flow could be numeric big. \r\nThe more spans, the high network flow.\r\nSo I would think agent.config need a new config **agent.spans_n_per_3_secs**\r\n\r\nNetwork flow means from javaagent trace data to collector, As high network flow would influence app.jar"
      },
      {
        "user": "wu-sheng",
        "created_at": "2020-12-23T04:02:59Z",
        "body": "Read the document, there is a config called `SPAN_LIMIT_PER_SEGMENT` to do this. But less spans could break your traces, do the client side tracing is not working because of this."
      },
      {
        "user": "lijial",
        "created_at": "2020-12-23T04:43:55Z",
        "body": "> Read the document, there is a config called `SPAN_LIMIT_PER_SEGMENT` to do this. But less spans could break your traces, do the client side tracing is not working because of this.\r\n\r\nOK,I see, thank you"
      }
    ]
  },
  {
    "number": 5927,
    "title": "How to skip kafka tracing?",
    "created_at": "2020-12-01T01:05:08Z",
    "closed_at": "2020-12-01T01:43:13Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/apache/skywalking/issues/5927",
    "body": "Please answer these questions before submitting your issue.\r\n\r\n- Why do you submit this issue?\r\n- [X ] Question or discussion\r\n- [ ] Bug\r\n- [ ] Requirement\r\n- [ ] Feature or performance improvement\r\n\r\n___\r\n### Question\r\n- What do you want to know?\r\nI'm coding a plugin which use kafka to produce metric\uff0cbut it will be traced by apm-kafka-plugin.I want to know whether is there a way to avoid it?\r\n___\r\n### Bug\r\n- Which version of SkyWalking, OS and JRE?\r\n\r\n- Which company or project?\r\n\r\n- What happened?\r\nIf possible, provide a way to reproduce the error. e.g. demo application, component version.\r\n\r\n___\r\n### Requirement or improvement\r\n- Please describe your requirements or improvement suggestions.\r\n",
    "comments_url": "https://api.github.com/repos/apache/skywalking/issues/5927/comments",
    "author": "justforstudy-A",
    "comments": [
      {
        "user": "wu-sheng",
        "created_at": "2020-12-01T01:10:30Z",
        "body": "Ignore yours or ignore all tracing of the Kafka plugin?"
      },
      {
        "user": "justforstudy-A",
        "created_at": "2020-12-01T01:27:35Z",
        "body": "> Ignore yours or ignore all tracing of the Kafka plugin?\r\n\r\nJust for the plugin of  mine,not for all tracing"
      },
      {
        "user": "wu-sheng",
        "created_at": "2020-12-01T01:43:13Z",
        "body": "No, there is no such mechanism. Tracing means tracing all related. You can't partial OFF, because they are the same at the instrumentation level. The plugin can't tell who is using it."
      },
      {
        "user": "justforstudy-A",
        "created_at": "2020-12-01T02:02:20Z",
        "body": "> No, there is no such mechanism. Tracing means tracing all related. You can't partial OFF, because they are the same at the instrumentation level. The plugin can't tell who is using it.\r\n\r\nUnderstand,thanks"
      }
    ]
  },
  {
    "number": 5636,
    "title": "skywalking-ui: jvm metrics only have one number per day?",
    "created_at": "2020-10-09T09:10:55Z",
    "closed_at": "2020-10-09T09:14:35Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/apache/skywalking/issues/5636",
    "body": "Please answer these questions before submitting your issue.\r\n\r\n- Why do you submit this issue?\r\n- [ x] Question or discussion\r\n- [ ] Bug\r\n- [ ] Requirement\r\n- [ ] Feature or performance improvement\r\n\r\n___\r\n### Question\r\n- What do you want to know?\r\n\r\nversion: V6.3\r\n\r\n1. on UI page:\r\nsuch as JVM GC counts, Heap, etc,  only has a number per day\uff0c  I guess the display is per day, where I can change to per hour for example?\r\n\r\n2. is there any doc to show such configuration/introdction for JVM metrics?  (also the database metrics...)\r\n\r\n3. what's the CLR means on page?  (CLR is beside JVM on UI), it's for .NET ?\r\n\r\nthanks!\r\n___\r\n### Bug\r\n- Which version of SkyWalking, OS and JRE?\r\n\r\n- Which company or project?\r\n\r\n- What happened?\r\nIf possible, provide a way to reproduce the error. e.g. demo application, component version.\r\n\r\n___\r\n### Requirement or improvement\r\n- Please describe your requirements or improvement suggestions.\r\n",
    "comments_url": "https://api.github.com/repos/apache/skywalking/issues/5636/comments",
    "author": "worldwalk",
    "comments": [
      {
        "user": "wu-sheng",
        "created_at": "2020-10-09T09:14:35Z",
        "body": "> on UI page:\r\nsuch as JVM GC counts, Heap, etc, only has a number per day\uff0c I guess the display is per day, where I can change to per hour for example?\r\n\r\nChoose the right time duration.\r\n\r\n> is there any doc to show such configuration/introdction for JVM metrics? (also the database metrics...)\r\n\r\nIt is auto.\r\n\r\n> what's the CLR means on page? (CLR is beside JVM on UI), it's for .NET ?\r\n\r\nCLR is .NET concept."
      },
      {
        "user": "worldwalk",
        "created_at": "2020-10-09T09:19:04Z",
        "body": "thanks a lot! it works, good day!"
      }
    ]
  },
  {
    "number": 5545,
    "title": "alarm's count properties real meaning?",
    "created_at": "2020-09-23T08:54:01Z",
    "closed_at": "2020-09-23T10:47:07Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/apache/skywalking/issues/5545",
    "body": "Please answer these questions before submitting your issue.\r\n\r\ni see official document and official alarm-setting.yml, count is represent as Frequency of occurrence or time[minute]?\r\nfor example:\r\n\r\n1\u3001official document \r\nCount. In the period window, if the number of values over threshold(by OP), reaches count, alarm should send\r\n\r\n2\u3001official alarm-setting.yml\r\n  service_sla_rule:\r\n    # Metrics value need to be long, double or int\r\n    metrics-name: service_sla\r\n    op: \"<\"\r\n    threshold: 8000\r\n    # The length of time to evaluate the metrics\r\n    period: 10\r\n    # How many times after the metrics match the condition, will trigger alarm\r\n    count: 2\r\n    # How many times of checks, the alarm keeps silence after alarm triggered, default as same as period.\r\n    silence-period: 3\r\n    message: **Successful rate of service {name} is lower than 80% in 2 minutes of last 10 minutes**\r\n\r\n- Why do you submit this issue?\r\n- [ ] Question or discussion\r\n- [ ] Bug\r\n- [ ] Requirement\r\n- [ ] Feature or performance improvement\r\n\r\n___\r\n### Question\r\n- What do you want to know?\r\n\r\n___\r\n### Bug\r\n- Which version of SkyWalking, OS and JRE?\r\n\r\n- Which company or project?\r\n\r\n- What happened?\r\nIf possible, provide a way to reproduce the error. e.g. demo application, component version.\r\n\r\n___\r\n### Requirement or improvement\r\n- Please describe your requirements or improvement suggestions.\r\n",
    "comments_url": "https://api.github.com/repos/apache/skywalking/issues/5545/comments",
    "author": "killGC",
    "comments": [
      {
        "user": "wu-sheng",
        "created_at": "2020-09-23T10:47:07Z",
        "body": "Consider the period is a moving window caching the metrics. Every minute is a slot in the window. \r\nAlarm core checks the window every minute. Count means the minimal count of value in the slot over threshold."
      },
      {
        "user": "killGC",
        "created_at": "2020-09-24T01:25:12Z",
        "body": "> Consider the period is a moving window caching the metrics. Every minute is a slot in the window.\r\n> Alarm core checks the window every minute. Count means the minimal count of value in the slot over threshold.\r\n\r\ni understand ,thank you "
      }
    ]
  },
  {
    "number": 5378,
    "title": "10K+ thread in skywalking-oap process",
    "created_at": "2020-08-25T12:07:43Z",
    "closed_at": "2020-08-25T12:10:43Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/apache/skywalking/issues/5378",
    "body": "Please answer these questions before submitting your issue.\r\n\r\n- Why do you submit this issue?\r\n- [ x] Question or discussion\r\n- [ ] Bug\r\n- [ ] Requirement\r\n- [ ] Feature or performance improvement\r\n\r\n___\r\n### Question\r\n- What do you want to know?\r\n\r\ndeployed skywalking on AWS,  one skywalking-oap node cpu 100%. \r\nWith jstack we found 10K+ thread there, and most of them is \r\n\r\n\"DataCarrier.GRPCRemoteClient.Consumser.0.Thread\" #29764 daemon prio=5 os_prio=0 tid=0x00007fce67fd1800 nid=0x7458 sleeping[0x00007fc7d0b02000]\r\n   java.lang.Thread.State: TIMED_WAITING (sleeping)\r\n\tat java.lang.Thread.sleep(Native Method)\r\n\tat org.apache.skywalking.apm.commons.datacarrier.consumer.ConsumerThread.run(ConsumerThread.java:72)\r\n\r\nWith jmap we got :\r\n num     #instances         #bytes  class name\r\n----------------------------------------------\r\n   1:      21632389     2500615320  [C\r\n   2:      20464186     1145994416  org.apache.skywalking.apm.network.register.v2.Endpoint\r\n\r\n\r\nAny clue please?  thanks!\r\n___\r\n### Bug\r\n- Which version of SkyWalking, OS and JRE?\r\nskywalking-oap 6.3.0\r\n\r\n- Which company or project?\r\n\r\n- What happened?\r\nIf possible, provide a way to reproduce the error. e.g. demo application, component version.\r\n\r\n___\r\n### Requirement or improvement\r\n- Please describe your requirements or improvement suggestions.\r\n",
    "comments_url": "https://api.github.com/repos/apache/skywalking/issues/5378/comments",
    "author": "worldwalk",
    "comments": [
      {
        "user": "wu-sheng",
        "created_at": "2020-08-25T12:10:43Z",
        "body": "This has been fixed in many released versions. Check the changelog, and recommend to use the latest version."
      },
      {
        "user": "worldwalk",
        "created_at": "2020-10-09T09:20:18Z",
        "body": "this resolved in v6.4 by functionality called operation name group."
      }
    ]
  },
  {
    "number": 5344,
    "title": "How to access the same skywalking service in multiple environments?",
    "created_at": "2020-08-18T03:02:00Z",
    "closed_at": "2020-08-18T03:14:09Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/apache/skywalking/issues/5344",
    "body": "Please answer these questions before submitting your issue.\r\n\r\n- Why do you submit this issue?\r\n- [ ] Question or discussion\r\n- [ ] Bug\r\n- [X] Requirement\r\n- [ ] Feature or performance improvement\r\n\r\n___\r\n### Question\r\n- What do you want to know?\r\n- [X] How to access the same skywalking service in multiple environments?\r\n___\r\n### Bug\r\n- Which version of SkyWalking, OS and JRE?\r\n\r\n- Which company or project?\r\n\r\n- What happened?\r\nIf possible, provide a way to reproduce the error. e.g. demo application, component version.\r\n\r\n___\r\n### Requirement or improvement\r\n- Please describe your requirements or improvement suggestions.\r\n",
    "comments_url": "https://api.github.com/repos/apache/skywalking/issues/5344/comments",
    "author": "gyjx",
    "comments": [
      {
        "user": "wu-sheng",
        "created_at": "2020-08-18T03:14:09Z",
        "body": "What do you mean by how to access? We don't set any limitation for this."
      },
      {
        "user": "gyjx",
        "created_at": "2020-08-18T04:00:21Z",
        "body": "I'm sorry, maybe I didn't make it clear. I mean, if I have three links: development, testing and pre release, but I just want to deploy a skywalking service, how will I divide it?"
      },
      {
        "user": "wu-sheng",
        "created_at": "2020-08-18T04:01:16Z",
        "body": "No, we don't have that. Management is not our agenda today."
      },
      {
        "user": "gyjx",
        "created_at": "2020-08-18T04:03:52Z",
        "body": "Does SK not support service partitioning? Do I need to deploy three SK services? dev test pre ...."
      },
      {
        "user": "wu-sheng",
        "created_at": "2020-08-18T04:15:42Z",
        "body": "You could do anything you want. I just say, we don't have that concept. Why need APM in the tesr and dev env? Strange thing."
      },
      {
        "user": "gyjx",
        "created_at": "2020-08-18T07:52:37Z",
        "body": "Because some of our interfaces have to go through pressure test before going online, we hope SK can help us do something."
      },
      {
        "user": "wu-sheng",
        "created_at": "2020-08-18T07:55:29Z",
        "body": "If you are going to do load test, then use a separate SW cluster. It is recommended."
      },
      {
        "user": "gyjx",
        "created_at": "2020-08-19T09:49:12Z",
        "body": "thank you\r\n\r\n"
      }
    ]
  },
  {
    "number": 5246,
    "title": "docker start fail, Exist cycle module dependencies in",
    "created_at": "2020-08-06T01:53:15Z",
    "closed_at": "2020-08-06T01:56:26Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/apache/skywalking/issues/5246",
    "body": "Please answer these questions before submitting your issue.\r\n\r\n- Why do you submit this issue?\r\n- [ ] Question or discussion\r\n- [1 ] Bug\r\n- [ ] Requirement\r\n- [ ] Feature or performance improvement\r\n\r\n___\r\n### Question\r\n- What do you want to know?\r\ndocker pull apache/skywalking-oap-server:latest \r\nthen start the docker\r\nlogs:\r\n2020-08-06 01:48:04,708 - org.apache.skywalking.oap.server.library.module.ModuleDefine -9014 [main] INFO  [] - Prepare the default provider in prometheus-fetcher module.\r\n2020-08-06 01:48:04,709 - org.apache.skywalking.oap.server.library.module.ModuleDefine -9015 [main] INFO  [] - Prepare the default provider in envoy-metric module.\r\n2020-08-06 01:48:04,710 - org.apache.skywalking.oap.server.library.module.ModuleDefine -9016 [main] INFO  [] - Prepare the none provider in configuration module.\r\n2020-08-06 01:48:04,721 - org.apache.skywalking.oap.server.starter.OAPServerBootstrap -9027 [main] ERROR [] - Exist cycle module dependencies in \r\nreceiver-trace[provider=org.apache.skywalking.oap.server.receiver.trace.provider.TraceModuleProvider]\r\norg.apache.skywalking.oap.server.library.module.CycleDependencyException: Exist cycle module dependencies in \r\nreceiver-trace[provider=org.apache.skywalking.oap.server.receiver.trace.provider.TraceModuleProvider]\r\n        at org.apache.skywalking.oap.server.library.module.BootstrapFlow.makeSequence(BootstrapFlow.java:112) ~[library-module-8.1.0.jar:8.1.0]\r\n        at org.apache.skywalking.oap.server.library.module.BootstrapFlow.<init>(BootstrapFlow.java:39) ~[library-module-8.1.0.jar:8.1.0]\r\n        at org.apache.skywalking.oap.server.library.module.ModuleManager.init(ModuleManager.java:67) ~[library-module-8.1.0.jar:8.1.0]\r\n        at org.apache.skywalking.oap.server.starter.OAPServerBootstrap.start(OAPServerBootstrap.java:43) [server-bootstrap-8.1.0.jar:8.1.0]\r\n        at org.apache.skywalking.oap.server.starter.OAPServerStartUp.main(OAPServerStartUp.java:26) [server-starter-8.1.0.jar:8.1.0]\r\n\r\n___\r\n### Bug\r\n- Which version of SkyWalking, OS and JRE?\r\nlatest\r\n- Which company or project?\r\n\r\n- What happen?\r\nIf possible, provide a way for reproducing the error. e.g. demo application, component version.\r\n\r\n___\r\n### Requirement or improvement\r\n- Please describe about your requirements or improvement suggestions.",
    "comments_url": "https://api.github.com/repos/apache/skywalking/issues/5246/comments",
    "author": "dislazy",
    "comments": [
      {
        "user": "wu-sheng",
        "created_at": "2020-08-06T01:56:26Z",
        "body": "Latest could change with time. We just released 8.1, the default yaml changed. You need to sync the change."
      },
      {
        "user": "dislazy",
        "created_at": "2020-08-06T02:07:38Z",
        "body": "ok thanks "
      }
    ]
  },
  {
    "number": 5118,
    "title": "Spring Cloud gateway : Why all endpoind is a fixed value \u201cWEBFLUX.handle\u201d",
    "created_at": "2020-07-17T11:01:49Z",
    "closed_at": "2020-07-17T11:06:11Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/apache/skywalking/issues/5118",
    "body": "Env list:  \r\n\r\n- SkyWalking 6.6.0 \r\n- JRE8\r\n- Spring cloud gateway 2.1.14\r\n\r\nI Found all endpoint is  the same value \"WEBFLUX.handle\"\r\n`\r\n graphql queryEndpoints output:\r\n\r\n[\r\n    {\r\n        \"key\": \"3\",\r\n        \"label\": \"WEBFLUX.handle\"\r\n    },\r\n    {\r\n        \"key\": \"5\",\r\n        \"label\": \"/gateway/routes\"\r\n    },\r\n    {\r\n        \"key\": \"6\",\r\n        \"label\": \"/**\"\r\n    }\r\n]\r\n\r\n`\r\n\r\n## question:\r\nWhy all endpoind is a fixed value \u201cWEBFLUX.handle\u201d",
    "comments_url": "https://api.github.com/repos/apache/skywalking/issues/5118/comments",
    "author": "janecms",
    "comments": [
      {
        "user": "wu-sheng",
        "created_at": "2020-07-17T11:06:11Z",
        "body": "Use 8.0, how do this is open sourced. Read the codes if want to understand something."
      },
      {
        "user": "janecms",
        "created_at": "2020-07-18T00:40:12Z",
        "body": "After upgrading to version 8.0.1, I found that the problem has been resolved.\r\nCan you tell me, if you upgrade from skywalking 6.6 to 8.0, is the underlying storage still compatible?"
      },
      {
        "user": "wu-sheng",
        "created_at": "2020-07-18T00:44:46Z",
        "body": "All things have been changed in 8.0. Read v3 protocol. Same as storage level. "
      }
    ]
  },
  {
    "number": 4962,
    "title": "use 'make -f Makefile install' install skywalking-python occurred error?",
    "created_at": "2020-06-23T06:44:21Z",
    "closed_at": "2020-06-23T06:52:22Z",
    "labels": [
      "question",
      "agent",
      "python"
    ],
    "url": "https://github.com/apache/skywalking/issues/4962",
    "body": "Please answer these questions before submitting your issue.\r\n\r\n- Why do you submit this issue?\r\n- [ ] Question or discussion\r\n- [ *] Bug\r\n- [ ] Requirement\r\n- [ ] Feature or performance improvement\r\n\r\n___\r\n### Question\r\n- What do you want to know?\r\nit's  Environmental error  \uff1f\r\n___\r\n### Bug\r\n- Which version of SkyWalking, OS and JRE?\r\nskywalking-python (#21) pyhton3.7 \r\n- Which company or project?\r\n\r\n- What happen?\r\nIf possible, provide a way for reproducing the error. e.g. demo application, component version.\r\n\r\nError prompt\uff1apython3 -m grpc_tools.protoc --version || python3 -m pip install grpcio-tools\r\n\t                 python3 -m grpc_tools.protoc -I protocol --python_out=. --grpc_python_out=. protocol/**/*.proto\r\n                         Could not make proto path relative: protocol/**/*.proto: No such file or directory\r\n                        make: ***[gen] Error 1\r\n___\r\n### Requirement or improvement\r\n- Please describe about your requirements or improvement suggestions.\r\n\r\nWhy did this error occur? The old version was installed successfully without any errors. Did me delete critical files when deleting older versions?",
    "comments_url": "https://api.github.com/repos/apache/skywalking/issues/4962/comments",
    "author": "yue-chao",
    "comments": [
      {
        "user": "kezhenxu94",
        "created_at": "2020-06-23T06:52:22Z",
        "body": "@yue-chao it's my fault to miss one step in the docs, but please clone the submodule first before running `make install`"
      },
      {
        "user": "kezhenxu94",
        "created_at": "2020-06-23T06:53:34Z",
        "body": "To be clear, run `git submodule update --init` before `make install`"
      },
      {
        "user": "yue-chao",
        "created_at": "2020-06-23T07:39:39Z",
        "body": "Thank you. It's done"
      },
      {
        "user": "yue-chao",
        "created_at": "2020-06-23T10:59:20Z",
        "body": "thank you,this problem is solved\n\n\n\nAt 2020-06-23 14:53:48, \"kezhenxu94\" <notifications@github.com> wrote:\n\nTo be clear, run git submodule update --init before make install\n\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or unsubscribe."
      }
    ]
  },
  {
    "number": 4860,
    "title": "[Question] ES Client Version",
    "created_at": "2020-06-04T15:03:25Z",
    "closed_at": "2020-06-04T15:55:49Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/apache/skywalking/issues/4860",
    "body": "Please answer these questions before submitting your issue.\r\n\r\n- Why do you submit this issue?\r\n- [x] Question\r\n\r\n\r\n- What happen?\r\nI found the maven dependency tree is worng \u3002 es7 dist use elasticsearch client 6.x\r\nrun \r\n`./mvnw dependency:tree`\r\noutput\r\n```\r\n[INFO] --- maven-dependency-plugin:3.1.1:tree (default-cli) @ apache-skywalking-apm-es7 ---\r\n[INFO] org.apache.skywalking:apache-skywalking-apm-es7:pom:8.0.0-SNAPSHOT\r\n[INFO] +- org.apache.skywalking:apm-agent:jar:8.0.0-SNAPSHOT:compile\r\n[INFO] |  \\- org.apache.skywalking:apm-agent-core:jar:8.0.0-SNAPSHOT:compile\r\n[INFO] |     +- org.apache.skywalking:apm-network:jar:8.0.0-SNAPSHOT:compile\r\n[INFO] |     |  +- io.grpc:grpc-netty:jar:1.26.0:compile\r\n[INFO] |     |  |  +- io.netty:netty-codec-http2:jar:4.1.42.Final:compile (version selected from constraint [4.1.42.Final,4.1.42.Final])\r\n[INFO] |     |  |  \\- io.netty:netty-handler-proxy:jar:4.1.42.Final:compile\r\n[INFO] |     |  |     \\- io.netty:netty-codec-socks:jar:4.1.42.Final:compile\r\n[INFO] |     |  +- io.grpc:grpc-protobuf:jar:1.26.0:compile\r\n[INFO] |     |  |  +- io.grpc:grpc-api:jar:1.26.0:compile\r\n[INFO] |     |  |  |  \\- io.grpc:grpc-context:jar:1.26.0:compile\r\n[INFO] |     |  |  +- com.google.protobuf:protobuf-java:jar:3.11.0:compile\r\n[INFO] |     |  |  +- com.google.api.grpc:proto-google-common-protos:jar:1.12.0:compile\r\n[INFO] |     |  |  \\- io.grpc:grpc-protobuf-lite:jar:1.26.0:compile\r\n[INFO] |     |  +- io.grpc:grpc-stub:jar:1.26.0:compile\r\n[INFO] |     |  \\- io.netty:netty-tcnative-boringssl-static:jar:2.0.26.Final:compile\r\n[INFO] |     +- org.apache.skywalking:apm-util:jar:8.0.0-SNAPSHOT:compile\r\n[INFO] |     +- net.bytebuddy:byte-buddy:jar:1.10.7:compile\r\n[INFO] |     \\- org.apache.skywalking:apm-datacarrier:jar:8.0.0-SNAPSHOT:compile\r\n[INFO] +- org.apache.skywalking:server-starter-es7:jar:8.0.0-SNAPSHOT:compile\r\n[INFO] |  +- org.apache.skywalking:server-bootstrap:jar:8.0.0-SNAPSHOT:compile\r\n[INFO] |  |  +- org.apache.skywalking:server-core:jar:8.0.0-SNAPSHOT:compile\r\n[INFO] |  |  |  +- org.yaml:snakeyaml:jar:1.18:compile\r\n[INFO] |  |  |  +- org.apache.skywalking:library-module:jar:8.0.0-SNAPSHOT:compile\r\n[INFO] |  |  |  +- org.apache.skywalking:telemetry-api:jar:8.0.0-SNAPSHOT:compile\r\n[INFO] |  |  |  +- org.apache.skywalking:configuration-api:jar:8.0.0-SNAPSHOT:compile\r\n[INFO] |  |  |  +- org.apache.skywalking:library-util:jar:8.0.0-SNAPSHOT:compile\r\n[INFO] |  |  |  |  +- joda-time:joda-time:jar:2.10.5:compile\r\n[INFO] |  |  |  |  \\- com.google.protobuf:protobuf-java-util:jar:3.11.4:compile\r\n[INFO] |  |  |  +- org.apache.skywalking:library-client:jar:8.0.0-SNAPSHOT:compile\r\n[INFO] |  |  |  |  +- com.zaxxer:HikariCP:jar:3.1.0:compile\r\n[INFO] |  |  |  |  +- commons-dbcp:commons-dbcp:jar:1.4:compile\r\n[INFO] |  |  |  |  |  \\- commons-pool:commons-pool:jar:1.5.4:compile\r\n[INFO] |  |  |  |  +- org.elasticsearch.client:elasticsearch-rest-high-level-client:jar:6.3.2:compile\r\n```\r\n\r\nBut i found the  es client lib in `oap-server/server-starter-es7/target/skywalking-oap-assembly/skywalking-oap/libs`  is 7.0.0 \u3002 \r\n\r\nI m confused. \r\n",
    "comments_url": "https://api.github.com/repos/apache/skywalking/issues/4860/comments",
    "author": "dominicqi",
    "comments": [
      {
        "user": "kezhenxu94",
        "created_at": "2020-06-04T15:55:49Z",
        "body": "@dominicqi we use `dependencyManagement` to manage the dependencies here, and the `man dependency:tree` doesn't resolve that, but the package goal does, and the final dependencies versions are therefore correct"
      },
      {
        "user": "dominicqi",
        "created_at": "2020-06-04T16:14:38Z",
        "body": "Ah , thank you ."
      }
    ]
  },
  {
    "number": 4492,
    "title": "Is 6.6 oap cluster can receive  trace from 6.5 Agent \uff1f",
    "created_at": "2020-03-11T08:42:32Z",
    "closed_at": "2020-03-11T08:56:17Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/apache/skywalking/issues/4492",
    "body": "\r\n### Question\r\n- What do you want to know?\r\nIs 6.6 oap cluster can receive  trace from 6.5 Agent .\r\nI update my cluster from 6.5 to 6.6. But  some agent is 6.5 \u3002\r\nThe oap clusters  can run . But some trace is bad. Service can not show right name ,It it show VNode....",
    "comments_url": "https://api.github.com/repos/apache/skywalking/issues/4492/comments",
    "author": "seifeHu",
    "comments": [
      {
        "user": "wu-sheng",
        "created_at": "2020-03-11T08:56:17Z",
        "body": "I don't think that is related to 6.5->6.6. It is compatible, and agent should be able hot reboot if you erase all data int the storage.\r\n\r\nI am not sure what do you mean bad. VNode is a UI enhancement to tell you, some part of the traces has not been reported."
      },
      {
        "user": "seifeHu",
        "created_at": "2020-03-11T09:00:31Z",
        "body": "> compatible, and agent should be able hot reboot if you erase all data int the storage.\r\n\r\nI delete all index just now . It is  works \r\ntks ."
      }
    ]
  },
  {
    "number": 4233,
    "title": "how long will  modify  the SW_STORAGE_ES_RECORD_DATA_TTL  do effect ?",
    "created_at": "2020-01-14T07:12:54Z",
    "closed_at": "2020-01-14T07:24:37Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/apache/skywalking/issues/4233",
    "body": "### Question\r\n- What do you want to know?\r\nFirst My cluster 's SW_STORAGE_ES_RECORD_DATA_TTL is default value (7 days)\r\nnow I change the value to 3 days .\r\n\r\nI restart all my skywalking cluster nodes .But the index segment-****  still have 7  indeies.\r\n",
    "comments_url": "https://api.github.com/repos/apache/skywalking/issues/4233/comments",
    "author": "seifeHu",
    "comments": [
      {
        "user": "wu-sheng",
        "created_at": "2020-01-14T07:24:37Z",
        "body": "It will active at middle night."
      },
      {
        "user": "seifeHu",
        "created_at": "2020-01-14T07:52:46Z",
        "body": "tks .got it !"
      }
    ]
  },
  {
    "number": 3622,
    "title": "Double-counting sample values:create entrySpan and singleSpan",
    "created_at": "2019-10-15T10:51:36Z",
    "closed_at": "2019-10-15T14:20:46Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/apache/skywalking/issues/3622",
    "body": "Please answer these questions before submitting your issue.\r\n\r\n- Why do you submit this issue?\r\n- [*] Question or discussion\r\n- [ ] Bug\r\n- [ ] Requirement\r\n- [ ] Feature or performance improvement\r\n\r\n___\r\n### Question\r\n- What do you want to know?\r\nDouble-counting sample values:create entrySpan and singleSpan\r\n___\r\n### Bug\r\n- Which version of SkyWalking, OS and JRE?\r\n\r\n- Which company or project?\r\n\r\n- What happen?\r\nIf possible, provide a way for reproducing the error. e.g. demo application, component version.\r\npublic AbstractTracerContext createTraceContext(String operationName, boolean forceSampling) {\r\n        AbstractTracerContext context;\r\n        int suffixIdx = operationName.lastIndexOf(\".\");\r\n        if (suffixIdx > -1 && Config.Agent.IGNORE_SUFFIX.contains(operationName.substring(suffixIdx))) {\r\n            context = new IgnoredTracerContext();\r\n        } else {\r\n            SamplingService samplingService = ServiceManager.INSTANCE.findService(SamplingService.class);\r\n            if (forceSampling || samplingService.trySampling()) {\r\n                context = new TracingContext();\r\n            } else {\r\n                context = new IgnoredTracerContext();\r\n            }\r\n        }\r\n\r\n        return context;\r\n    }\r\n\r\nfinish()\r\n\r\n if (!segment.hasRef() && segment.isSingleSpanSegment()) {\r\n                    if (!samplingService.trySampling()) {\r\n                        finishedSegment.setIgnore(true);\r\n                    }\r\n                }\r\n\r\n\r\n___\r\n### Requirement or improvement\r\n- Please describe about your requirements or improvement suggestions.",
    "comments_url": "https://api.github.com/repos/apache/skywalking/issues/3622/comments",
    "author": "HackerRookie",
    "comments": [
      {
        "user": "wu-sheng",
        "created_at": "2019-10-15T14:20:46Z",
        "body": "Yes, it is re-counting, because in agent sampling rate, you want to reduce the CPU or network costs. Then, a single-span segment without ref is most likely meaningless. So we ignore it.\r\n\r\nYour question is?"
      },
      {
        "user": "HackerRookie",
        "created_at": "2019-10-16T01:47:50Z",
        "body": "@wu-sheng no question, tks"
      }
    ]
  },
  {
    "number": 3454,
    "title": "SkywalkingAgent reconnect:false",
    "created_at": "2019-09-11T08:28:29Z",
    "closed_at": "2019-09-11T13:51:06Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/apache/skywalking/issues/3454",
    "body": "- Why do you submit this issue?\r\n- [X] Question or discussion\r\n- [ ] Bug\r\n- [ ] Requirement\r\n- [ ] Feature or performance improvement\r\n\r\n___\r\n### Question\r\n- What do you want to know?\r\n```\r\n  skywalking agent Why not reconnect\r\n```\r\n\r\n___\r\n### Bug\r\n- Which version of SkyWalking, OS and JRE?\r\n```\r\n   version: 6.2.0\r\n   OS: centos 4.14.123-111.109.amzn2.x86_64\r\n  JDK version: 1.8.0_121\r\n```\r\n\r\n- Which company or project?\r\n> GrowingIO\r\n\r\n- What happen?\r\n```\r\nI restarted OAP and my agent has been failing to reconnect.\r\nI confirm that the OAP is working properly and the test restarts the agent service and the connection is normal.\r\nWhy does the agent need to restart the connection?\r\n```\r\n- log\r\n```\r\nDEBUG 2019-09-11 08:24:47:972 DataCarrier.DEFAULT.Consumser.0.Thread TraceSegmentServiceClient :  6313 trace segments have been abandoned, cause by no available channel. \r\nDEBUG 2019-09-11 08:24:47:976 SkywalkingAgent-4-ServiceAndEndpointRegisterClient-0 ServiceAndEndpointRegisterClient :  ServiceAndEndpointRegisterClient running, status:DISCONNECT. \r\nDEBUG 2019-09-11 08:24:50:959 SkywalkingAgent-1-GRPCChannelManager-0 GRPCChannelManager :  Selected collector grpc service running, reconnect:false. \r\nDEBUG 2019-09-11 08:24:50:976 SkywalkingAgent-4-ServiceAndEndpointRegisterClient-0 ServiceAndEndpointRegisterClient :  ServiceAndEndpointRegisterClient running, status:DISCONNECT. \r\nDEBUG 2019-09-11 08:24:53:976 SkywalkingAgent-4-ServiceAndEndpointRegisterClient-0 ServiceAndEndpointRegisterClient :  ServiceAndEndpointRegisterClient running, status:DISCONNECT. \r\nDEBUG 2019-09-11 08:24:56:976 SkywalkingAgent-4-ServiceAndEndpointRegisterClient-0 ServiceAndEndpointRegisterClient :  ServiceAndEndpointRegisterClient running, status:DISCONNECT. \r\nDEBUG 2019-09-11 08:24:59:976 SkywalkingAgent-4-ServiceAndEndpointRegisterClient-0 ServiceAndEndpointRegisterClient :  ServiceAndEndpointRegisterClient running, status:DISCONNECT. \r\nDEBUG 2019-09-11 08:25:02:976 SkywalkingAgent-4-ServiceAndEndpointRegisterClient-0 ServiceAndEndpointRegisterClient :  ServiceAndEndpointRegisterClient running, status:DISCONNECT. \r\nDEBUG 2019-09-11 08:25:05:976 SkywalkingAgent-4-ServiceAndEndpointRegisterClient-0 ServiceAndEndpointRegisterClient :  ServiceAndEndpointRegisterClient running, status:DISCONNECT.\r\n```\r\n",
    "comments_url": "https://api.github.com/repos/apache/skywalking/issues/3454/comments",
    "author": "weiqiang333",
    "comments": [
      {
        "user": "wu-sheng",
        "created_at": "2019-09-11T13:51:06Z",
        "body": "In some envs, we noticed that. 6.4.0 should be released today, we fixed it."
      },
      {
        "user": "weiqiang333",
        "created_at": "2019-09-23T11:43:00Z",
        "body": "Upgrade 6.4.0 Solution"
      },
      {
        "user": "adventurer2008",
        "created_at": "2019-12-19T01:46:29Z",
        "body": "I use 6.5.0 version and ES database . And I also have the same problems.\r\n\r\n\r\nDEBUG 2019-12-19 09:44:58:529 SkywalkingAgent-2-GRPCChannelManager-0 GRPCChannelManager : Selected collector grpc **service running, reconnect:true.** \r\nDEBUG 2019-12-19 09:44:58:538 SkywalkingAgent-5-ServiceAndEndpointRegisterClient-0 ServiceAndEndpointRegisterClient : ServiceAndEndpointRegisterClient running, status:DISCONNECT. \r\nDEBUG 2019-12-19 09:45:01:538 SkywalkingAgent-5-ServiceAndEndpointRegisterClient-0 ServiceAndEndpointRegisterClient : ServiceAndEndpointRegisterClient running, status:DISCONNECT. \r\nDEBUG 2019-12-19 09:45:02:859 DataCarrier.DEFAULT.Consumser.0.Thread TraceSegmentServiceClient **: 2 trace segments have been abandoned, cause by no available channel**. \r\nDEBUG 2019-12-19 09:45:04:538 SkywalkingAgent-5-ServiceAndEndpointRegisterClient-0 ServiceAndEndpointRegisterClient : ServiceAndEndpointRegisterClient running, **status:DISCONNECT**. \r\nDEBUG 2019-12-19 09:45:07:538 SkywalkingAgent-5-ServiceAndEndpointRegisterClient-0 ServiceAndEndpointRegisterClient : ServiceAndEndpointRegisterClient running, status:DISCONNECT. \r\nDEBUG 2019-12-19 09:45:10:538 SkywalkingAgent-5-ServiceAndEndpointRegisterClient-0 ServiceAndEndpointRegisterClient : ServiceAndEndpointRegisterClient running, status:DISCONNECT. "
      }
    ]
  },
  {
    "number": 2907,
    "title": "[BUG] Can not locate agent jar file",
    "created_at": "2019-06-19T04:12:08Z",
    "closed_at": "2019-06-19T05:30:48Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/apache/skywalking/issues/2907",
    "body": "when i use grpc register service find a problem\uff0cin my project add pom\r\n<dependency>\r\n    <groupId>org.apache.skywalking</groupId>\r\n    <artifactId>apm-agent-core</artifactId>\r\n    <version>6.1.0</version>\r\n</dependency>\r\nand apm-agent-core.jar in WEB-INF/lib/\r\nuse main func run GRPCChannelManager connect success\r\nbut build my project as war in tomcat run connect fair  \r\nerror:Can not locate agent jar file\r\ni found AgentPackagePath.findPath use ClassLoader.getSystemClassLoader.getResource get URL\r\nin my project return null so get error:Can not locate agent jar file\r\ni change this code to \r\nURL resource = ClassLoader.getSystemClassLoader().getResource(classResourcePath); \r\nif (resource == null) {\r\n   resource = AgentPackagePath.class.getClassLoader().getResource(classResourcePath); \r\n}\r\nin tomcat run connect success\r\nbut i am not sure this way is the best  can your give me some suggest",
    "comments_url": "https://api.github.com/repos/apache/skywalking/issues/2907/comments",
    "author": "zou79189747",
    "comments": [
      {
        "user": "wu-sheng",
        "created_at": "2019-06-19T05:30:48Z",
        "body": "Don't put agent.jar or any other SkyWalking plugin jars in your classpath. SkyWalking loads them automatically."
      },
      {
        "user": "zou79189747",
        "created_at": "2019-06-20T01:11:00Z",
        "body": "\u6211\u8fd9\u8fb9\u7684\u573a\u666f\u662f\u5168\u94fe\u8def\u5206\u6790\uff0c\u6709C\u5199\u7684\u7f51\u5173\uff0c\u6709java\u5199\u7684\u5fae\u670d\u52a1\uff0cjava\u5fae\u670d\u52a1\u90a3\u5feb\u6ca1\u4ec0\u4e48\u95ee\u9898\u76f4\u63a5-javaagent\u5c31\u53ef\u4ee5\u4e86\uff0c\u4f46\u662fC\u8fd9\u8fb9\u6211\u4eec\u7684\u65b9\u6848\u662f \u901a\u8fc7\u4e00\u4e2a\u6389\u7528\u4e00\u4e2ajava\u540e\u53f0\u63d0\u8fc7\u7684http\u63a5\u53e3\u6765\u6ce8\u518c\u670d\u52a1\uff0c \u8be5\u63a5\u53e3\u8c03\u7528skywalking grpc \u6765\u6ce8\u518c\u670d\u52a1\uff0c\u63d0\u8fc7java\u63a5\u53e3\u7684\u540e\u53f0\u662f\u4e00\u4e2aweb\u5de5\u7a0b\uff0c\u4e14\u5728tomcat catalin.bat\u91cc\u9762\u6ca1\u6709\u4f7f\u7528-javaagent \uff0c\u8fd9\u4e2a\u573a\u666f\u4e0b\u6211\u5c31\u5f15\u7528\u4e86apm-agent-core\u8fd9\u4e2a\u4f9d\u8d56\uff0c\u8c03\u7528doServiceRegister\u6ce8\u518c\u670d\u52a1\uff0c\u7136\u540e\u5728tomcat\u73af\u5883\u4e0b \u62a5Can not locate agent jar file\u8fd9\u4e2a\u9519\uff0c\u8c03\u8bd5\u53d1\u73b0URL resource = ClassLoader.getSystemClassLoader().getResource(classResourcePath); resource\u4e3anull ,\u60f3\u8bf7\u95ee\u4e00\u4e0b\u8fd9\u4e2a\u573a\u666f\u6211\u4fee\u6539\u6e90\u7801\u6709\u95ee\u9898\u5417\uff0c\u8fd8\u662f\u6709\u5176\u4ed6\u66f4\u597d\u7684\u65b9\u5f0f\u89e3\u51b3"
      },
      {
        "user": "wu-sheng",
        "created_at": "2019-06-20T01:13:28Z",
        "body": "English only. I have said what is the issue. `-javaagent` is also needed in Tomcat, and don't put agent in Tomcat lib or your application lib, a.k.a. not in any classpath of JVM."
      },
      {
        "user": "zou79189747",
        "created_at": "2019-06-20T01:59:37Z",
        "body": "thanks ! as you said do , it is ok now.  but this way i have to use skywalking in my web project , this data is not needed"
      },
      {
        "user": "wu-sheng",
        "created_at": "2019-06-20T03:45:59Z",
        "body": "> thanks ! as you said do , it is ok now. but this way i have to use skywalking in my web project , this data is not needed\r\n\r\nWhat do you mean `data is not needed`? Confusing."
      },
      {
        "user": "zou79189747",
        "created_at": "2019-06-21T06:05:15Z",
        "body": "I don't need use skywalking to monitor the web project , if add -javaagent in tomcat  , it will send my web project monitor data to ES , like Service \u3001ServiceInstance \u3001segment , this datas is no use to me. "
      },
      {
        "user": "wu-sheng",
        "created_at": "2019-06-21T06:08:34Z",
        "body": "I am totally lost. If you don't need, why add SkyWalking there? Why ask a question in SkyWalking community?"
      },
      {
        "user": "zou79189747",
        "created_at": "2019-06-21T07:26:35Z",
        "body": "I use SkyWalking in other Microservices \uff0cIn this web project just provide restful Interface to Third party\uff0chelp them  register service \u3001serviceInstance  and send trace segment to skywalking storage \uff0cthis web project it's not must be monitor"
      },
      {
        "user": "wu-sheng",
        "created_at": "2019-06-22T02:37:55Z",
        "body": "The same question, if you don't need it, just don't attach the agent to JVM.\r\n\r\nAre you asking severl web apps in one Tomcat container? Some are monitoring targets, others are not? I am just guessing because you don't give me a very clear context."
      }
    ]
  },
  {
    "number": 2876,
    "title": "I can't find the article  \u201cPerformance Test\u201d.",
    "created_at": "2019-06-14T09:58:50Z",
    "closed_at": "2019-06-14T10:00:13Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/apache/skywalking/issues/2876",
    "body": "Please answer these questions before submitting your issue.\r\n\r\n- Why do you submit this issue?\r\n- [X] Question or discussion\r\n- [ ] Bug\r\n- [ ] Requirement\r\n- [ ] Feature or performance improvement\r\n\r\n___\r\n### Question\r\n- What do you want to know?\r\n I found the article **\u2018Performance Test\u2019** in docs some time ago.but can't find int now because the old link can't be opened.  Can you give it to me? many thanks. \r\n",
    "comments_url": "https://api.github.com/repos/apache/skywalking/issues/2876/comments",
    "author": "gzshilu",
    "comments": [
      {
        "user": "wu-sheng",
        "created_at": "2019-06-14T10:00:13Z",
        "body": "Go to agent setup document. They are at the bottom of the page."
      },
      {
        "user": "gzshilu",
        "created_at": "2019-06-14T10:04:34Z",
        "body": "many thanks , i found it  now."
      }
    ]
  },
  {
    "number": 2821,
    "title": "if setup ttl both core:default and storage:elasticsearch on application.yml then which one will effective",
    "created_at": "2019-06-04T09:56:17Z",
    "closed_at": "2019-06-04T10:09:47Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/apache/skywalking/issues/2821",
    "body": "application.yml\r\n\r\ncore:\r\n  default:\r\n    .....\r\n    # Set a timeout on metric data. After the timeout has expired, the metric data will automatically be deleted.\r\n    recordDataTTL: ${SW_CORE_RECORD_DATA_TTL:90} # Unit is minute\r\n    minuteMetricsDataTTL: ${SW_CORE_MINUTE_METRIC_DATA_TTL:90} # Unit is minute\r\n    hourMetricsDataTTL: ${SW_CORE_HOUR_METRIC_DATA_TTL:36} # Unit is hour\r\n    dayMetricsDataTTL: ${SW_CORE_DAY_METRIC_DATA_TTL:45} # Unit is day\r\n    monthMetricsDataTTL: ${SW_CORE_MONTH_METRIC_DATA_TTL:18} # Unit is month\r\nstorage:\r\n  elasticsearch:\r\n    ......\r\n    # Those data TTL settings will override the same settings in core module.\r\n    recordDataTTL: ${SW_STORAGE_ES_RECORD_DATA_TTL:7} # Unit is day\r\n    otherMetricsDataTTL: ${SW_STORAGE_ES_OTHER_METRIC_DATA_TTL:45} # Unit is day\r\n    monthMetricsDataTTL: ${SW_STORAGE_ES_MONTH_METRIC_DATA_TTL:18} # Unit is month",
    "comments_url": "https://api.github.com/repos/apache/skywalking/issues/2821/comments",
    "author": "lintghi",
    "comments": [
      {
        "user": "wu-sheng",
        "created_at": "2019-06-04T10:09:47Z",
        "body": "Are you using master? Are you familiar with SkyWalking? Master is a dev branch.\r\nWe have described this in ttl document. Please read"
      },
      {
        "user": "wu-sheng",
        "created_at": "2019-06-04T10:10:33Z",
        "body": "Elasticsearch ttl works. Again, make sure you understand whay skywalking is doing if you try master branch."
      },
      {
        "user": "lintghi",
        "created_at": "2019-06-12T03:03:22Z",
        "body": "sorry for the delay.  yes, using master.  understand now "
      },
      {
        "user": "wu-sheng",
        "created_at": "2019-06-12T06:37:30Z",
        "body": "@lintghi Master ES storage is not stable, we are keeping fixing bugs in these days. "
      }
    ]
  },
  {
    "number": 2310,
    "title": "Top 20 Slow Traces show issue",
    "created_at": "2019-03-02T10:01:53Z",
    "closed_at": "2019-03-02T10:12:38Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/apache/skywalking/issues/2310",
    "body": "How can I see the Top 20 Slow data before today,now I only can see today data.",
    "comments_url": "https://api.github.com/repos/apache/skywalking/issues/2310/comments",
    "author": "Stephen-sen",
    "comments": [
      {
        "user": "wu-sheng",
        "created_at": "2019-03-02T10:12:38Z",
        "body": "It doesn't release yet. From I known, that is based on time duration of whole page. No difference. Also, it is affected by record ttl, so could be deleted because you set ttl short for segment."
      },
      {
        "user": "Stephen-sen",
        "created_at": "2019-03-02T10:14:34Z",
        "body": "where I can set ttl ?"
      },
      {
        "user": "wu-sheng",
        "created_at": "2019-03-02T10:15:32Z",
        "body": "application.yml in config. You should know, this could make you storage huge data, if you set ttl long."
      },
      {
        "user": "Stephen-sen",
        "created_at": "2019-03-02T10:18:28Z",
        "body": "is recordDataTTL?from application.yml I see it is 90 minute"
      },
      {
        "user": "wu-sheng",
        "created_at": "2019-03-02T10:21:50Z",
        "body": "Yes. Should be."
      },
      {
        "user": "Stephen-sen",
        "created_at": "2019-03-02T10:40:23Z",
        "body": "thank you,I've verify it's really this palce"
      }
    ]
  },
  {
    "number": 2295,
    "title": "Deploying skywalking 6.0 GA encountered some problems",
    "created_at": "2019-02-26T06:57:03Z",
    "closed_at": "2019-02-26T06:59:49Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/apache/skywalking/issues/2295",
    "body": "first, the webUI pops up with error banner like:\r\n-Validation error of type FieldUndefined: Field 'loadAlarmList' in type 'Query' is undefined @ 'loadAlarmList'\r\n-Validation error of type FieldUndefined: Field 'getClusterBrief' in type 'Query' is undefined @ 'getClusterBrief'\r\n-Validation error of type FieldUndefined: Field 'numOfAlarmRate' in type 'AlarmTrend' is undefined @ 'getAlarmTrend/numOfAlarmRate'\r\nsecond, agent seems connect to the collectors successfully and the data stores into ES but nothing shows up in the webUI",
    "comments_url": "https://api.github.com/repos/apache/skywalking/issues/2295/comments",
    "author": "liu316484231",
    "comments": [
      {
        "user": "wu-sheng",
        "created_at": "2019-02-26T06:59:49Z",
        "body": "This mean your collector doesn't start up right."
      },
      {
        "user": "liu316484231",
        "created_at": "2019-02-26T07:08:48Z",
        "body": "so is there detailed instructions for version 6.0 quickly startup, we use ES6 as the storage, what could be the highest possible problem we meet "
      },
      {
        "user": "wu-sheng",
        "created_at": "2019-02-26T07:13:45Z",
        "body": "Quick startup is provided in document, only use H2 as storage."
      },
      {
        "user": "liu316484231",
        "created_at": "2019-02-26T07:24:53Z",
        "body": "there are many errors in the oap.log:\r\nINFO: Transport failed\r\nio.netty.handler.codec.http2.Http2Exception: Unexpected HTTP/1.x request: GET /agent/gRPC\r\nand \r\norg.apache.skywalking.oap.server.receiver.trace.provider.parser.SegmentParseV2 - 111 [grpc-default-executor-3] ERROR [] - null"
      },
      {
        "user": "wu-sheng",
        "created_at": "2019-02-26T07:25:48Z",
        "body": "Why do you send gRPC to HTTP PORT?"
      },
      {
        "user": "wu-sheng",
        "created_at": "2019-02-26T07:26:22Z",
        "body": "> org.apache.skywalking.oap.server.receiver.trace.provider.parser.SegmentParseV2 - 111 [grpc-default-executor-3] ERROR [] - null\r\n\r\nThis could be caused by you didn't reboot applciation(agent), but delete the ElasticSearch."
      },
      {
        "user": "liu316484231",
        "created_at": "2019-02-26T07:31:50Z",
        "body": "for second question, i think you are right,\r\nand for first question,\r\ncore:\r\n  default:\r\n    restHost: ${SW_CORE_REST_HOST:0.0.0.0}\r\n    restPort: ${SW_CORE_REST_PORT:12800}\r\n    restContextPath: ${SW_CORE_REST_CONTEXT_PATH:/}\r\n    gRPCHost: ${SW_CORE_GRPC_HOST:0.0.0.0}\r\n    gRPCPort: ${SW_CORE_GRPC_PORT:11800}\r\nthis is the core configs in v6.0, which port should our agent connect to?"
      },
      {
        "user": "wu-sheng",
        "created_at": "2019-02-26T07:40:17Z",
        "body": "gRPCPort"
      },
      {
        "user": "bengbengtu",
        "created_at": "2019-02-26T07:47:11Z",
        "body": "> Why do you send gRPC to HTTP PORT?\r\n\r\nhow to resolve this problem? "
      },
      {
        "user": "liu316484231",
        "created_at": "2019-02-26T08:00:00Z",
        "body": "all right i think our configuration is correct now but webUI still continue pops up error banners, we configure the core.default to our own configs, and point agent to connect gRPC host port.."
      },
      {
        "user": "wu-sheng",
        "created_at": "2019-02-26T08:22:02Z",
        "body": "Check your storage, es maybe? Does it have data already? You need to check your oap log, to see what is happening."
      },
      {
        "user": "liu316484231",
        "created_at": "2019-02-26T09:16:40Z",
        "body": " it works now! thank you very much for your patience, dude"
      }
    ]
  },
  {
    "number": 2248,
    "title": "agent can not work after upgrade from 6.0.0-beta to 6.0.0-GA",
    "created_at": "2019-02-15T09:53:53Z",
    "closed_at": "2019-02-15T10:26:05Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/apache/skywalking/issues/2248",
    "body": "Please answer these questions before submitting your issue.\r\n\r\n- Why do you submit this issue?\r\n- [x] Question or discussion\r\n- [ ] Bug\r\n- [ ] Requirement\r\n- [ ] Feature or performance improvement\r\n\r\n___\r\n### Question\r\n- What do you want to know?\r\nsw agent can not work after upgrade from 6.0.0-beta to 6.0.0-GA (we have upgraded all agents, oap and webapp service). they all worked before upgraded.\r\n\r\nhere is the agent's log:\r\nDEBUG 2019-02-15 17:49:15:828 ServiceAndEndpointRegisterClient :  ServiceAndEndpointRegisterClient running, status:CONNECTED.\r\nERROR 2019-02-15 17:49:15:833 ServiceAndEndpointRegisterClient :  ServiceAndEndpointRegisterClient execute fail.\r\norg.apache.skywalking.apm.dependencies.io.grpc.StatusRuntimeException: UNKNOWN\r\n\tat org.apache.skywalking.apm.dependencies.io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:222)\r\n\tat org.apache.skywalking.apm.dependencies.io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:203)\r\n\tat org.apache.skywalking.apm.dependencies.io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:132)\r\n\tat org.apache.skywalking.apm.network.register.v2.RegisterGrpc$RegisterBlockingStub.doServiceInstanceRegister(RegisterGrpc.java:393)\r\n\tat org.apache.skywalking.apm.agent.core.remote.ServiceAndEndpointRegisterClient.run(ServiceAndEndpointRegisterClient.java:126)\r\n\tat org.apache.skywalking.apm.util.RunnableWithExceptionProtection.run(RunnableWithExceptionProtection.java:36)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)",
    "comments_url": "https://api.github.com/repos/apache/skywalking/issues/2248/comments",
    "author": "foxracle",
    "comments": [
      {
        "user": "wu-sheng",
        "created_at": "2019-02-15T10:26:05Z",
        "body": "This error looks no related to version update. More likely, your backend does not startup right. The models of backend have been changed, so recheck your backend."
      },
      {
        "user": "foxracle",
        "created_at": "2019-02-15T11:02:49Z",
        "body": "3q\r\nthis is the backend's log:\r\n\r\n2019-02-15 18:56:53,801 - org.apache.skywalking.oap.server.storage.plugin.elasticsearch.lock.RegisterLockDAOImpl - 71 [DataCarrier.IndicatorPersistentWorker.endpoint_inventory.Consumser.0.Thread] WARN  [] - Try to lock the row with the id 16 failure, error message: null\r\n2019-02-15 18:56:53,812 - org.apache.skywalking.oap.server.core.register.worker.RegisterPersistentWorker - 98 [DataCarrier.IndicatorPersistentWorker.endpoint_inventory.Consumser.0.Thread] INFO  [] - EndpointInventory inventory register try lock and increment sequence failure.\r\n2019-02-15 18:56:53,810 - org.apache.skywalking.oap.server.storage.plugin.elasticsearch.cache.ServiceInventoryCacheEsDAO - 86 [grpc-default-executor-4] ERROR [] - null\r\njava.lang.NullPointerException: null\r\n        at org.apache.skywalking.oap.server.core.register.ServiceInventory$Builder.map2Data(ServiceInventory.java:207) ~[server-core-6.0.0-GA.jar:6.0.0-GA]\r\n        at org.apache.skywalking.oap.server.storage.plugin.elasticsearch.cache.ServiceInventoryCacheEsDAO.get(ServiceInventoryCacheEsDAO.java:81) [storage-elasticsearch-plugin-6.0.0-GA.jar:6.0.0-GA]\r\n        at org.apache.skywalking.oap.server.core.cache.ServiceInventoryCache.get(ServiceInventoryCache.java:100) [server-core-6.0.0-GA.jar:6.0.0-GA]\r\n        at org.apache.skywalking.oap.server.core.register.service.ServiceInventoryRegister.heartbeat(ServiceInventoryRegister.java:111) [server-core-6.0.0-GA.jar:6.0.0-GA]\r\n        at org.apache.skywalking.oap.server.receiver.register.provider.handler.v6.grpc.ServiceInstancePingServiceHandler.doPing(ServiceInstancePingServiceHandler.java:59) [skywalking-register-receiver-plugin-6.0.0-GA.jar:6.0.0-GA]\r\n        at org.apache.skywalking.apm.network.register.v2.ServiceInstancePingGrpc$MethodHandlers.invoke(ServiceInstancePingGrpc.java:210) [apm-network-6.0.0-GA.jar:6.0.0-GA]\r\n        at io.grpc.stub.ServerCalls$UnaryServerCallHandler$UnaryServerCallListener.onHalfClose(ServerCalls.java:171) [grpc-stub-1.15.1.jar:1.15.1]\r\n        at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.halfClosed(ServerCallImpl.java:283) [grpc-core-1.15.1.jar:1.15.1]\r\n        at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed.runInContext(ServerImpl.java:707) [grpc-core-1.15.1.jar:1.15.1]\r\n        at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) [grpc-core-1.15.1.jar:1.15.1]\r\n        at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123) [grpc-core-1.15.1.jar:1.15.1]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]\r\n        at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]\r\n2019-02-15 18:56:53,812 - org.apache.skywalking.oap.server.core.register.service.ServiceInventoryRegister - 118 [grpc-default-executor-4] WARN  [] - Service 9 heartbeat, but not found in storage.\r\n2019-02-15 18:56:53,813 - org.apache.skywalking.oap.server.storage.plugin.elasticsearch.lock.RegisterLockDAOImpl - 71 [DataCarrier.IndicatorPersistentWorker.endpoint_inventory.Consumser.0.Thread] WARN  [] - Try to lock the row with the id 16 failure, error message: null\r\n2019-02-15 18:56:53,813 - org.apache.skywalking.oap.server.core.register.worker.RegisterPersistentWorker - 98 [DataCarrier.IndicatorPersistentWorker.endpoint_inventory.Consumser.0.Thread] INFO  [] - EndpointInventory inventory register try lock and increment sequence failure.\r\n2019-02-15 18:56:53,814 - org.apache.skywalking.oap.server.storage.plugin.elasticsearch.lock.RegisterLockDAOImpl - 71 [DataCarrier.IndicatorPersistentWorker.endpoint_inventory.Consumser.0.Thread] WARN  [] - Try to lock the row with the id 16 failure, error message: null\r\n2019-02-15 18:56:53,814 - org.apache.skywalking.oap.server.core.register.worker.RegisterPersistentWorker - 98 [DataCarrier.IndicatorPersistentWorker.endpoint_inventory.Consumser.0.Thread] INFO  [] - EndpointInventory inventory register try lock and increment sequence failure.\r\n"
      },
      {
        "user": "foxracle",
        "created_at": "2019-02-15T11:06:55Z",
        "body": "it seems that the problem related to es, any hints? during the upgrade and restart, we did not change anything for es"
      },
      {
        "user": "wu-sheng",
        "created_at": "2019-02-15T11:18:22Z",
        "body": "The es models changes. You need to change that manually, or use a new empty es."
      },
      {
        "user": "foxracle",
        "created_at": "2019-02-18T05:44:38Z",
        "body": "after delete all old indexes of es, it works. thank you.\r\nIs there any document for upgrade?\r\nhere is my upgrade procedure for upgrading from 6.0.0-beta to 6.0.0-GA(it may not be the best practice)\r\n1: stop all backend servers\r\n2: delete all old indexes of sw(you can delete all indexes that starting with the value of storage.elasticsearch.nameSpace)\r\n3: upgrade all backend servers\r\n4: upgrade all agent and restart all application that start with javaagent (I used sw for java app)\r\n5: start all backend servers\r\n"
      },
      {
        "user": "wu-sheng",
        "created_at": "2019-02-18T05:50:54Z",
        "body": "You could do update in this way. But we don't have this document."
      }
    ]
  },
  {
    "number": 1845,
    "title": "Question: can skywalking pass on tag cross thread?",
    "created_at": "2018-10-29T13:45:59Z",
    "closed_at": "2018-10-29T13:48:32Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/apache/skywalking/issues/1845",
    "body": "Please answer these questions before submitting your issue.\r\n\r\n- Why do you submit this issue?\r\n- [\u001d x ] Question or discussion\r\n- [ ] Bug\r\n- [ ] Requirement\r\n- [ ] Feature or performance improvement\r\n\r\n___\r\n### Question\r\n- What do you want to know?\r\nThe distributed tracing system need to pass the user's tag across threads, for example, I put a value in the http header, the system need to pass the value accross threads, and accross jvm, and try pass on in the whole trace. for example,  the user get the http request, we can set the value in the threadlocal, but if the user create a task submited to threadpool, which maybe lead to loss the value. \r\n\r\n\r\n___\r\n### Bug\r\n- Which version of SkyWalking, OS and JRE?\r\n\r\n- Which company or project?\r\n\r\n- What happen?\r\nIf possible, provide a way for reproducing the error. e.g. demo application, component version.\r\n\r\n___\r\n### Requirement or improvement\r\n- Please describe about your requirements or improvement suggestions.",
    "comments_url": "https://api.github.com/repos/apache/skywalking/issues/1845/comments",
    "author": "jacky1193610322",
    "comments": [
      {
        "user": "wu-sheng",
        "created_at": "2018-10-29T13:48:32Z",
        "body": "We can propagate skywalking internal info across threads and processes. But that mechanism is not open to end user in default. Business info propagation is very dangerous, in many cases, they cause memory leak, network traffic disaster. \r\n\r\nYou could change our codes to supports that, but I wouldn't recommend to do that."
      },
      {
        "user": "jacky1193610322",
        "created_at": "2018-10-29T13:52:07Z",
        "body": "ok, thank you"
      },
      {
        "user": "jacky1193610322",
        "created_at": "2018-10-29T14:36:35Z",
        "body": "Does the apm-toolkit-trace-activation project implementation the feature which propagate skywalking internal info across threads and processes ?"
      },
      {
        "user": "wu-sheng",
        "created_at": "2018-10-29T14:37:31Z",
        "body": "> you mean the apm-toolkit-trace-activation project implementation the feature which propagate skywalking internal info across threads and processes?\r\n\r\nNo. There no official API could do the propagation like you said."
      },
      {
        "user": "jacky1193610322",
        "created_at": "2018-10-29T14:39:36Z",
        "body": "I know, you said \"We can propagate skywalking internal info across threads and processes\", I am reading the source, so I want to know which project or class implement the feature you said. thank you"
      },
      {
        "user": "wu-sheng",
        "created_at": "2018-10-29T14:42:03Z",
        "body": "> \"We can propagate skywalking internal info across threads and processes\r\n\r\nThis means `#inject`, `#extract`, `#capture` and `#continued` in TracingContext."
      },
      {
        "user": "jacky1193610322",
        "created_at": "2018-10-29T14:58:24Z",
        "body": "Thank you."
      }
    ]
  },
  {
    "number": 1771,
    "title": "Some questions about the agent collecting data",
    "created_at": "2018-10-16T06:10:37Z",
    "closed_at": "2018-10-16T15:13:35Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/apache/skywalking/issues/1771",
    "body": "Please answer these questions before submitting your issue.\r\n\r\n- Why do you submit this issue?\r\n\r\n- [x] Question or discussion\r\n- [ ] Bug\r\n- [ ] Requirement\r\n- [x] Feature or performance improvement\r\n\r\n___\r\n### Question\r\n- How often does the agent report data to the collector?Can it be configured?\uff08\u63a2\u9488\u53d1\u9001\u6570\u636e\u7684\u65f6\u95f4\u95f4\u9694\u662f\u591a\u5c11\uff1f\u662f\u5426\u80fd\u914d\u7f6e\uff1f\uff09\r\n- How big is the agent buffer setting? Can it be configured?\uff08\u63a2\u9488\u6536\u96c6\u7684\u6570\u636e\u7f13\u5b58\u8bbe\u7f6e\u4e86\u591a\u5927\uff1f\u662f\u5426\u80fd\u914d\u7f6e\uff1f\uff09\r\n\r\n___\r\n### Requirement or improvement\r\n- Can you provide a custom collection strategy? Can do special requests will be collected\u3002\uff08\u80fd\u5426\u63d0\u4f9b\u81ea\u5b9a\u4e49\u6536\u96c6\u7b56\u7565\uff0c\u53ef\u4ee5\u505a\u5230\u6307\u5b9a\u7279\u6b8a\u8bf7\u6c42\u90fd\u4f1a\u6536\u96c6\uff09\r\n\r\nthank",
    "comments_url": "https://api.github.com/repos/apache/skywalking/issues/1771/comments",
    "author": "cyejing",
    "comments": [
      {
        "user": "wu-sheng",
        "created_at": "2018-10-16T15:13:35Z",
        "body": "> How often does the agent report data to the collector? Can it be configured?\r\n\r\nConsume per 20 ms. See `TraceSegmentServiceClient#L69`. We use DataCarrier's default settings. It is not open now.\r\n\r\n> How big is the agent buffer setting? Can it be configured?\r\n\r\nSee `org.apache.skywalking.apm.agent.core.conf.Config#Buffer`. Default channelSize * bufferSize. You could set anything in Config through `agent.config`"
      },
      {
        "user": "cyejing",
        "created_at": "2018-10-18T08:45:48Z",
        "body": "This helped me.\r\nConsume per 20 ms. I think this is a problem. if 20ms have a lot of data into DataCarrier . datacarrier will be discarded data . datacarrier buffer strategy is `BufferStrategy.IF_POSSIBLE`. \r\nHow improve\uff1f"
      },
      {
        "user": "wu-sheng",
        "created_at": "2018-10-18T08:47:26Z",
        "body": "How many traces do you intend to add into the buffer in 20ms cycle? I am confusing."
      },
      {
        "user": "cyejing",
        "created_at": "2018-10-18T08:52:49Z",
        "body": "you are right .I mistakenly thought it was 20s"
      }
    ]
  },
  {
    "number": 1466,
    "title": "None data is show and heartbeat error occured after I restart skywalking",
    "created_at": "2018-07-17T06:39:20Z",
    "closed_at": "2018-07-17T06:40:58Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/apache/skywalking/issues/1466",
    "body": "### Bug\r\n- Which version of SkyWalking, OS and JRE?\r\n  5.0.0-beta2  CentOS 7.2   JRE 1.8\r\n\r\n- What happen?\r\nI cleared Es data and restart collector and agents.\r\nAfter I restart,\r\n\"Exception while fetching data (/getTopNSlowService) : null\" is show on the website.And error occurs in the log of Collector:\r\n\r\n`2018-07-17 14:33:45,268 - org.apache.skywalking.apm.collector.analysis.worker.model.impl.MergePersistenceWorker -487126 [pool-2-thread-1] ERROR [] - Received an instance heart beat message under instance id= 29 , which doesn't exist.\r\norg.apache.skywalking.apm.collector.core.UnexpectedException: Received an instance heart beat message under instance id= 29 , which doesn't exist.\r\n\tat org.apache.skywalking.apm.collector.storage.es.dao.InstanceHeartBeatEsPersistenceDAO.prepareBatchInsert(InstanceHeartBeatEsPersistenceDAO.java:65) ~[collector-storage-es-provider-5.0.0-beta2.jar:5.0.0-beta2]\r\n\tat org.apache.skywalking.apm.collector.storage.es.dao.InstanceHeartBeatEsPersistenceDAO.prepareBatchInsert(InstanceHeartBeatEsPersistenceDAO.java:38) ~[collector-storage-es-provider-5.0.0-beta2.jar:5.0.0-beta2]\r\n\tat org.apache.skywalking.apm.collector.analysis.worker.model.impl.MergePersistenceWorker.lambda$prepareBatch$0(MergePersistenceWorker.java:63) ~[analysis-worker-model-5.0.0-beta2.jar:5.0.0-beta2]\r\n\tat java.util.LinkedHashMap.forEach(LinkedHashMap.java:684) ~[?:1.8.0_161]\r\n\tat org.apache.skywalking.apm.collector.analysis.worker.model.impl.MergePersistenceWorker.prepareBatch(MergePersistenceWorker.java:50) ~[analysis-worker-model-5.0.0-beta2.jar:5.0.0-beta2]\r\n\tat org.apache.skywalking.apm.collector.analysis.worker.model.impl.MergePersistenceWorker.prepareBatch(MergePersistenceWorker.java:33) ~[analysis-worker-model-5.0.0-beta2.jar:5.0.0-beta2]\r\n\tat org.apache.skywalking.apm.collector.analysis.worker.model.impl.PersistenceWorker.buildBatchCollection(PersistenceWorker.java:91) ~[analysis-worker-model-5.0.0-beta2.jar:5.0.0-beta2]\r\n\tat org.apache.skywalking.apm.collector.analysis.worker.timer.PersistenceTimer.lambda$extractDataAndSave$2(PersistenceTimer.java:78) ~[analysis-worker-model-5.0.0-beta2.jar:5.0.0-beta2]\r\n\tat java.lang.Iterable.forEach(Iterable.java:75) ~[?:1.8.0_161]\r\n\tat org.apache.skywalking.apm.collector.analysis.worker.timer.PersistenceTimer.extractDataAndSave(PersistenceTimer.java:72) ~[analysis-worker-model-5.0.0-beta2.jar:5.0.0-beta2]\r\n\tat org.apache.skywalking.apm.collector.analysis.worker.timer.PersistenceTimer.lambda$start$0(PersistenceTimer.java:56) ~[analysis-worker-model-5.0.0-beta2.jar:5.0.0-beta2]\r\n\tat org.apache.skywalking.apm.util.RunnableWithExceptionProtection.run(RunnableWithExceptionProtection.java:36) [apm-util-5.0.0-beta2.jar:5.0.0-beta2]\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_161]\r\n\tat java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308) [?:1.8.0_161]\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_161]\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294) [?:1.8.0_161]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_161]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_161]\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_161]`\r\n\r\n\r\n___\r\n### Requirement or improvement\r\n- How to solve the problem \"Exception while fetching data (/getTopNSlowService) : null\" ?",
    "comments_url": "https://api.github.com/repos/apache/skywalking/issues/1466/comments",
    "author": "lovesea42",
    "comments": [
      {
        "user": "wu-sheng",
        "created_at": "2018-07-17T06:40:58Z",
        "body": "You didn't just reboot, you deleted data in storage. The system can't run in that way. You need to reboot agents too."
      },
      {
        "user": "lovesea42",
        "created_at": "2018-07-17T07:12:47Z",
        "body": "Thanks,I found after I reboot all the agents ,it works"
      }
    ]
  },
  {
    "number": 1350,
    "title": "spring mvc plugin fails",
    "created_at": "2018-06-14T07:33:09Z",
    "closed_at": "2018-06-14T12:26:49Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/apache/skywalking/issues/1350",
    "body": "Please answer these questions before submitting your issue.\r\n\r\n- Why do you submit this issue?\r\n- [\u221a ] Bug\r\n\r\n___\r\n### Question\r\n- What do you want to know?\r\n\u600e\u4e48\u53bb\u4fee\u590d\uff0c\u8fd8\u662f\u6211\u54ea\u91cc\u914d\u7f6e\u7684\u6709\u95ee\u9898\r\n\r\n___\r\n### Bug\r\n- Which version of SkyWalking, OS and JRE?\r\nSkyWalking\uff1a5.0.0 beta\r\nOS:win10\r\njava version: 1.8.0\r\n\r\n- Which company or project?\r\n\r\n- What happen?\r\nIf possible, provide a way for reproducing the error. e.g. demo application, component version.\r\n\r\nERROR 2018-06-14 15:10:58 InstMethodsInter :  class[class org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod] after method[getBean] intercept failure \r\njava.lang.ClassCastException: org.apache.skywalking.apm.plugin.spring.mvc.commons.EnhanceRequireObjectCache cannot be cast to org.apache.skywalking.apm.plugin.spring.mvc.commons.EnhanceRequireObjectCache\r\n\tat org.apache.skywalking.apm.plugin.spring.mvc.commons.interceptor.GetBeanInterceptor.afterMethod(GetBeanInterceptor.java:45)\r\n\tat org.apache.skywalking.apm.agent.core.plugin.interceptor.enhance.InstMethodsInter.intercept(InstMethodsInter.java:105)\r\n\tat org.springframework.web.method.HandlerMethod.getBean(HandlerMethod.java)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest$original$wrECvZ9K(InvocableHandlerMethod.java:133)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest$original$wrECvZ9K$accessor$uwLcp6Ec(InvocableHandlerMethod.java)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod$auxiliary$NBmadpWW.call(Unknown Source)\r\n\tat org.apache.skywalking.apm.agent.core.plugin.interceptor.enhance.InstMethodsInter.intercept(InstMethodsInter.java:93)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:635)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:742)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.boot.web.filter.ApplicationContextHeaderFilter.doFilterInternal(ApplicationContextHeaderFilter.java:55)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:110)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:167)\r\n\tat org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:80)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.boot.actuate.autoconfigure.MetricsFilter.doFilterInternal(MetricsFilter.java:106)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke$original$8FkWANRS(StandardWrapperValve.java:199)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke$original$8FkWANRS$accessor$DANAU7c4(StandardWrapperValve.java)\r\n\tat org.apache.catalina.core.StandardWrapperValve$auxiliary$h2ap4qlM.call(Unknown Source)\r\n\tat org.apache.skywalking.apm.agent.core.plugin.interceptor.enhance.InstMethodsInter.intercept(InstMethodsInter.java:93)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\nERROR 2018-06-14 15:10:58 InstMethodsInter :  class[class com.yunjiacloud.nj.spacex.example.web.DemoTwoController] after method[getConfig] intercept failure \r\njava.lang.NullPointerException\r\n\tat org.apache.skywalking.apm.plugin.spring.mvc.commons.EnhanceRequireObjectCache.getHttpServletResponse(EnhanceRequireObjectCache.java:36)\r\n\tat org.apache.skywalking.apm.plugin.spring.mvc.commons.interceptor.AbstractMethodInterceptor.afterMethod(AbstractMethodInterceptor.java:77)\r\n\tat org.apache.skywalking.apm.agent.core.plugin.interceptor.enhance.InstMethodsInter.intercept(InstMethodsInter.java:105)\r\n\tat com.yunjiacloud.nj.spacex.example.web.DemoTwoController.getConfig(DemoTwoController.java)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest$original$wrECvZ9K(InvocableHandlerMethod.java:133)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest$original$wrECvZ9K$accessor$uwLcp6Ec(InvocableHandlerMethod.java)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod$auxiliary$NBmadpWW.call(Unknown Source)\r\n\tat org.apache.skywalking.apm.agent.core.plugin.interceptor.enhance.InstMethodsInter.intercept(InstMethodsInter.java:93)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:635)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:742)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.boot.web.filter.ApplicationContextHeaderFilter.doFilterInternal(ApplicationContextHeaderFilter.java:55)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:110)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:167)\r\n\tat org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:80)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.boot.actuate.autoconfigure.MetricsFilter.doFilterInternal(MetricsFilter.java:106)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke$original$8FkWANRS(StandardWrapperValve.java:199)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke$original$8FkWANRS$accessor$DANAU7c4(StandardWrapperValve.java)\r\n\tat org.apache.catalina.core.StandardWrapperValve$auxiliary$h2ap4qlM.call(Unknown Source)\r\n\tat org.apache.skywalking.apm.agent.core.plugin.interceptor.enhance.InstMethodsInter.intercept(InstMethodsInter.java:93)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\n___\r\n### Requirement or improvement\r\n- Please describe about your requirements or improvement suggestions.",
    "comments_url": "https://api.github.com/repos/apache/skywalking/issues/1350/comments",
    "author": "doublebody",
    "comments": [
      {
        "user": "ascrutae",
        "created_at": "2018-06-14T07:39:55Z",
        "body": "Could you give me an demo to reproduce this issue?"
      },
      {
        "user": "wu-sheng",
        "created_at": "2018-06-14T07:41:40Z",
        "body": "@ascrutae Maybe this is an issue we already fixed? Can you tell that from the stack only? \r\n\r\n@doublebody I am not sure that you provided enough info. In beta release, some SpringMVC forward, or SpringMVC + hystrix may cause this."
      },
      {
        "user": "ascrutae",
        "created_at": "2018-06-14T08:34:34Z",
        "body": "I am afraid not that we don't fixed this issue yet. Because There is  an `ClassCastException` exception display in the stack. and it show me that maybe there is some trouble about the ClassLoader.\r\n>org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod] after method[getBean] intercept failure\r\njava.lang.ClassCastException: **org.apache.skywalking.apm.plugin.spring.mvc.commons.EnhanceRequireObjectCache** cannot be cast to **org.apache.skywalking.apm.plugin.spring.mvc.commons.EnhanceRequireObjectCache**\r\n"
      },
      {
        "user": "doublebody",
        "created_at": "2018-06-14T09:22:25Z",
        "body": "it may caused by spring security ?"
      },
      {
        "user": "ascrutae",
        "created_at": "2018-06-14T09:32:00Z",
        "body": "Could you give me demo for reproduce this issue? @doublebody "
      },
      {
        "user": "doublebody",
        "created_at": "2018-06-14T11:09:08Z",
        "body": "INFO 2018-06-14 19:06:51 GetBeanInterceptor :  this EnhancedInstance classload is :org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7f301ecb \r\nINFO 2018-06-14 19:06:51 GetBeanInterceptor :  this EnhanceRequireObjectCache classload is :org.apache.skywalking.apm.agent.core.plugin.loader.AgentClassLoader@5a26621a \r\nINFO 2018-06-14 19:06:51 GetBeanInterceptor :  this getSkyWalkingDynamicField classload is :org.apache.skywalking.apm.agent.core.plugin.loader.AgentClassLoader@43deaeba "
      },
      {
        "user": "doublebody",
        "created_at": "2018-06-14T12:26:21Z",
        "body": "\u5df2\u89e3\u51b3\uff0cspring-boot-devtools,RestartClassLoader\u5f71\u54cd"
      },
      {
        "user": "lujiajing1126",
        "created_at": "2021-05-22T10:21:16Z",
        "body": "This incompatibility with devtool has been addressed by PR #6973.\r\n\r\nYou could try with the master branch or wait for the next release 8.6.0.\r\n\r\nFeedback is welcome."
      }
    ]
  },
  {
    "number": 1237,
    "title": "Does the alarm have documentation?",
    "created_at": "2018-05-17T09:59:22Z",
    "closed_at": "2018-05-21T08:35:33Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/apache/skywalking/issues/1237",
    "body": "Please answer these questions before submitting your issue.\r\n\r\n- Why do you submit this issue?\r\n- [1 ] Question or discussion\r\n- [ ] Bug\r\n- [ ] Requirement\r\n- [ ] Feature or performance improvement\r\n\r\n___\r\n### Question\r\n\r\nSee the alarm function, but do not know how to use\r\n--using Google Translate",
    "comments_url": "https://api.github.com/repos/apache/skywalking/issues/1237/comments",
    "author": "tangmingming",
    "comments": [
      {
        "user": "wu-sheng",
        "created_at": "2018-05-17T12:33:57Z",
        "body": "Please look your `application.yml` in your collector config directory. The following settings are alarm related. And I think it is easy to understand. \r\n\r\n```yaml\r\n# alarm threshold\r\n    applicationApdexThreshold: 2000\r\n    serviceErrorRateThreshold: 10.00\r\n    serviceAverageResponseTimeThreshold: 2000\r\n    instanceErrorRateThreshold: 10.00\r\n    instanceAverageResponseTimeThreshold: 2000\r\n    applicationErrorRateThreshold: 10.00\r\n    applicationAverageResponseTimeThreshold: 2000\r\n```"
      },
      {
        "user": "tangmingming",
        "created_at": "2018-05-21T14:59:51Z",
        "body": "3Q"
      }
    ]
  },
  {
    "number": 613,
    "title": "java.lang.IllegalArgumentException: object is not an instance of declaring class",
    "created_at": "2017-11-22T02:35:08Z",
    "closed_at": "2017-11-22T05:03:24Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/apache/skywalking/issues/613",
    "body": "Please answer these questions before submitting your issue.\r\n\r\n### What version of sky-walking are you using?\r\nv3.2.4\r\n\r\n### What version of your OS?\r\nWindows 7\r\n\r\n### What version of your JRE?\r\n$ java -version\r\njava version \"1.8.0_60\"\r\nJava(TM) SE Runtime Environment (build 1.8.0_60-b27)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.60-b23, mixed mode)\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=utf-8 -Duser.language=en -Duser.country=US\r\n\r\n### What company or project?\r\njust learn.\r\nspring 3.2.8\r\n\r\n### What did you do?\r\n\r\njava.lang.IllegalArgumentException: object is not an instance of declaring class\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:635)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:742)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n\tat me.filter.XSSProtectFilter.doFilter(XSSProtectFilter.java:45)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n\tat me.filter.XSSDefendFilter.doFilter(XSSDefendFilter.java:99)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n\tat me.filter.HeaderRefererFilter.doFilter(HeaderRefererFilter.java:94)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n\tat me.filter.CsrfFilter.doFilterInternal(CsrfFilter.java:104)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n\tat me.filter.LogFilter.doFilter(LogFilter.java:111)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:208)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n\tat net.sf.ehcache.constructs.web.filter.GzipFilter.doFilter(GzipFilter.java:80)\r\n\tat net.sf.ehcache.constructs.web.filter.Filter.doFilter(Filter.java:86)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n\tat me.filter.RequestFilter.doFilter(RequestFilter.java:93)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n\tat me.filter.ThemeFilter.doFilter(ThemeFilter.java:68)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke$original$kiJuk0UF(StandardWrapperValve.java:198)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke$original$kiJuk0UF$accessor$Fr4GDVRX(StandardWrapperValve.java)\r\n\tat org.apache.catalina.core.StandardWrapperValve$auxiliary$kkPKIZEB.call(Unknown Source)\r\n\tat org.skywalking.apm.agent.core.plugin.interceptor.enhance.InstMethodsInter.intercept(InstMethodsInter.java:92)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80)\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:624)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1441)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\n#### In the InvocableHandlerMethod.doInvoke \r\n **getBridgedMethod()**->`public void me.auth.web.AuthController.checkCode(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException,java.io.IOException`\r\n**getBean()**->`{$Poxy129@13258 } \"me.auth.web.AuthController@b472a06\"`\r\n```java\r\nprotected Object doInvoke(Object... args) throws Exception {\r\n\t\tReflectionUtils.makeAccessible(getBridgedMethod());\r\n\t\ttry {\r\n\t\t\treturn getBridgedMethod().invoke(getBean(), args);\r\n\t\t}\r\n\t\tcatch (IllegalArgumentException ex) {\r\n\t\t\tassertTargetBean(getBridgedMethod(), getBean(), args);\r\n\t\t\tString text = (ex.getMessage() != null ? ex.getMessage() : \"Illegal argument\");\r\n\t\t\tthrow new IllegalStateException(getInvocationErrorMessage(text, args), ex);\r\n\t\t}\r\n\t\tcatch (InvocationTargetException ex) {\r\n\t\t\t// Unwrap for HandlerExceptionResolvers ...\r\n\t\t\tThrowable targetException = ex.getTargetException();\r\n\t\t\tif (targetException instanceof RuntimeException) {\r\n\t\t\t\tthrow (RuntimeException) targetException;\r\n\t\t\t}\r\n\t\t\telse if (targetException instanceof Error) {\r\n\t\t\t\tthrow (Error) targetException;\r\n\t\t\t}\r\n\t\t\telse if (targetException instanceof Exception) {\r\n\t\t\t\tthrow (Exception) targetException;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tString text = getInvocationErrorMessage(\"Failed to invoke handler method\", args);\r\n\t\t\t\tthrow new IllegalStateException(text, targetException);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```\r\n",
    "comments_url": "https://api.github.com/repos/apache/skywalking/issues/613/comments",
    "author": "ycrxun",
    "comments": [
      {
        "user": "wu-sheng",
        "created_at": "2017-11-22T03:50:35Z",
        "body": "I assume Chinese is OK for you, if so, check #581, may be the same issue with you. If not, please let me know.\r\n\r\nI recommend you to give a try for 3.2.5, which is just released an hour ago. "
      },
      {
        "user": "ycrxun",
        "created_at": "2017-11-22T05:03:24Z",
        "body": "@wu-sheng \u786e\u5b9e\u662f\u4e00\u6837\u7684\uff0c\u611f\u8c22 :+1: "
      }
    ]
  },
  {
    "number": 546,
    "title": "druid + mysql\uff1acompatibility problem?",
    "created_at": "2017-10-26T01:56:38Z",
    "closed_at": "2017-10-27T02:51:35Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/apache/skywalking/issues/546",
    "body": "### What version of sky-walking are you using?\r\n(the latest version of sky-walkiing) + druid-1.0.17.jar + mysql-connector-java-5.1.13.jar\r\n----------------------------------------------------\r\n\r\nWhen druid database source init, he will validate every connection he create. He invoke method  **pingInternal** in **com.mysql.jdbc.MySQLConnection** as default.But using sky-walking,the connection is proxy by **org.skywalking.apm.plugin.jdbc.SWConnection**,then druid execute the below code has different result.\r\n// clazz == com.mysql.jdbc.MySQLConnection\r\n// conn == org.skywalking.apm.plugin.jdbc.SWConnection\r\n     clazz.isAssignableFrom(conn.getClass())\r\n>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n\u4e5f\u5c31\u662f\u8bf4druid\u6846\u67b6\u5728\u68c0\u6d4b\u6570\u636e\u5e93\u8fde\u63a5\u65f6\u60f3\u7528\u5230MySQLConnection\u7684\u7279\u6709\u65b9\u6cd5\uff0c\u5bfc\u81f4\u7a0b\u5e8f\u6709\u70b9\u4e0d\u517c\u5bb9\uff0c\u4e0d\u4f7f\u7528ping\u65b9\u6cd5\u68c0\u67e5\u8fde\u63a5\u3002\u521a\u624ddruid-1.0.17\u7684\u68c0\u6d4bsql\u4e3a\u7a7a\u62a5\u9519\uff0c\u4e4b\u540e\u7684\u7248\u672c\u90fd\u6709\u9ed8\u8ba4\u7684sql\u3002\r\n\u6211\u60f3\u95ee\u4e00\u4e0b\uff0c\u6709\u6ca1\u6709\u4ec0\u4e48\u529e\u6cd5\u4ecesky-walking\u6846\u67b6\u5c42\u6b21\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u5c3d\u53ef\u80fd\u517c\u5bb9\u5df2\u6709\u7684\u5e94\u7528\uff0c\u540c\u65f6\u4e0d\u60f3\u589e\u52a0\u5bf9mysql-connector-java\u5305\u7684\u4f9d\u8d56\u3002\u76ee\u524dSWConnection\u53ea\u662fjava.sql.Connection\u7684\u5b50\u7c7b\uff0c\u6ca1\u60f3\u5230\u7279\u522b\u597d\u7684\u65b9\u6cd5\u3002\r\n\r\n\u5176\u4ed6\u89e3\u51b3\u65b9\u6cd5\uff1a\u5176\u5b9e\u53ef\u4ee5\u5347\u7ea7druid\u6846\u67b6\u6216\u8005\u589e\u52a0\u68c0\u6d4bsql=\"select 1\"\u89e3\u51b3\u95ee\u9898\u3002\r\n >>>>>>>>>>>>>>>>>>>>>>>>>>>>>  \r\n\r\n        ` if (usePingMethod) {\r\n            if (conn instanceof DruidPooledConnection) {\r\n                conn = ((DruidPooledConnection) conn).getConnection();\r\n            }\r\n            if (conn instanceof ConnectionProxy) {\r\n                conn = ((ConnectionProxy) conn).getRawObject();\r\n            }\r\n            if (clazz.isAssignableFrom(conn.getClass())) {\r\n                if (validationQueryTimeout < 0) {\r\n                    validationQueryTimeout = DEFAULT_VALIDATION_QUERY_TIMEOUT;\r\n                }\r\n                try {\r\n                    ping.invoke(conn, true, validationQueryTimeout);\r\n                    return true;\r\n                } catch (InvocationTargetException e) {\r\n                    Throwable cause = e.getCause();\r\n                    if (cause instanceof SQLException) {\r\n                        return false;\r\n                    }\r\n                    LOG.warn(\"Unexpected error in ping\", e);\r\n                    return false;\r\n                } catch (Exception e) {\r\n                    LOG.warn(\"Unexpected error in ping\", e);\r\n                    return false;\r\n                }\r\n            }\r\n        }`",
    "comments_url": "https://api.github.com/repos/apache/skywalking/issues/546/comments",
    "author": "neeuq",
    "comments": [
      {
        "user": "wu-sheng",
        "created_at": "2017-10-26T01:59:15Z",
        "body": "\u662f\u7684\uff0c\u4f60\u53ef\u4ee5\u5c1d\u8bd5\u4e00\u4e0b3.2.3\u7248\u672c\uff0c\u6211\u4eec\u5df2\u7ecf\u4e0d\u518d\u66ff\u6362Connection."
      },
      {
        "user": "neeuq",
        "created_at": "2017-10-26T06:26:54Z",
        "body": "\u66f4\u65b0\u4e86\u4ee3\u7801\uff0c\u8fd9\u4e2a\u5e94\u8be5\u6ca1\u95ee\u9898\u4e86\uff0c\u53d1\u73b0\u4ee3\u7801\u7ed3\u6784\u6709\u4e9b\u53d8\u52a8\u3002\u8865\u5145\u4e2a\u95ee\u9898\uff1a\r\n1\u3001\u662f\u57fa\u4e8e\u4ec0\u4e48\u8003\u8651\uff0c\u628ajdbc\u76d1\u63a7\u4fee\u6539\u4e86\r\n2\u3001\u63d2\u4ef6\u5305\u73b0\u5728\u653e\u5728\u5916\u9762\u4e86\uff0c\u662f\u65b9\u4fbf\u589e\u51cf\uff0c\u90fd\u5b9e\u9645\u90e8\u7f72\u65f6\u611f\u89c9\u96c6\u6210\u81f3\u4e00\u4e2ajar\u5305\u66f4\u65b9\u4fbf\uff0c\u7ea0\u7ed3\u4e86"
      },
      {
        "user": "wu-sheng",
        "created_at": "2017-10-27T02:51:35Z",
        "body": "> 1\u3001\u662f\u57fa\u4e8e\u4ec0\u4e48\u8003\u8651\uff0c\u628ajdbc\u76d1\u63a7\u4fee\u6539\u4e86\r\n\r\n\u4e3b\u8981\u89e3\u51b3\u7684\u662f\u8fd9\u79cd\u8fde\u63a5\u6821\u9a8c\u7684\u95ee\u9898\u3002\u9664\u4e86Druid\u4e4b\u5916\uff0c\u6709\u4e9bdatasource\u4e5f\u76d1\u6d4b\u8fd9\u4e2a\u3002\r\n\r\n> 2\u3001\u63d2\u4ef6\u5305\u73b0\u5728\u653e\u5728\u5916\u9762\u4e86\uff0c\u662f\u65b9\u4fbf\u589e\u51cf\uff0c\u90fd\u5b9e\u9645\u90e8\u7f72\u65f6\u611f\u89c9\u96c6\u6210\u81f3\u4e00\u4e2ajar\u5305\u66f4\u65b9\u4fbf\uff0c\u7ea0\u7ed3\u4e86\r\n\r\n\u8fd9\u4e2a\u6211\u4e2a\u4eba\u8ba4\u4e3a\uff0c\u589e\u51cf\u662f\u4e3b\u8981\u7279\u6027\uff0c\u4f60\u53ea\u662f\u591a\u4e86\u4e00\u4e2a`tar`\u7684\u64cd\u4f5c\uff0c\u6211\u89c9\u5f97\u6ca1\u6709\u5fc5\u8981\u7ea0\u7ed3\u3002\r\n\r\n\u53e6\u5916\uff0c\u56e0\u4e3a\u6b64\u95ee\u9898\u5df2\u89e3\u51b3\uff0c\u6211\u5c06\u5173\u95ed\u6b64\u95ee\u9898\u3002"
      }
    ]
  }
]