{
  "number": 56,
  "title": "[Bug] Error on 1.0.1",
  "created_at": "2024-09-04T08:02:31Z",
  "closed_at": "2024-09-11T16:14:44Z",
  "labels": [
    "bug"
  ],
  "url": "https://github.com/gnmyt/Nexterm/issues/56",
  "body": "### General\n\n- [X] I have updated to the latest version of Nexterm.\n- [X] My bug has not been reported yet.\n\n### The Bug\n\nLatest version 1.0.1 don't start , it log a error:\r\nError: Could not find a free port for Guacamole\r\n\n\n### What device are you using to access the page?\n\nIn the browser\n\n### Which operating system is your Nexterm instance running on?\n\nLinux",
  "comments_url": "https://api.github.com/repos/gnmyt/Nexterm/issues/56/comments",
  "author": "neroita",
  "comments": [
    {
      "user": "gnmyt",
      "created_at": "2024-09-04T08:26:24Z",
      "body": "I've deployed a hotfix to the `development` tag of the docker image. Can you try running the container on this version to see if this fixes the issue?\r\n\r\n```bash\r\ndocker run -d -p 6989:6989 --name nexterm --restart always -v nexterm:/app/data germannewsmaker/nexterm:development@sha256:0123004e71ea88b090ef67e460719c71dd161bffe60085e5d7d7256cae1da478\r\n```"
    },
    {
      "user": "neroita",
      "created_at": "2024-09-06T07:42:55Z",
      "body": "This work perfectly.\r\n\n\n---\n\nWill be a 1.0.2 version with the fix applyed ?"
    },
    {
      "user": "gnmyt",
      "created_at": "2024-09-11T16:14:44Z",
      "body": "Yes, the 1.0.2 will contain this fix. I'll try to implement 1-2 more features and release the new version."
    }
  ],
  "satisfaction_conditions": [
    "Resolves the port allocation error preventing Nexterm startup",
    "Includes the fix in an official stable release version"
  ],
  "_classification": {
    "category": "Can be dockerized without any issue",
    "timestamp": "2025-04-05 01:48:58"
  },
  "git_commit_info": {
    "sha": "071c478e9b29827feb5419157d65048c332c11a9",
    "date": "2024-09-04T07:44:30Z",
    "message": "Merge pull request #53 from gnmyt/dependabot/npm_and_yarn/client/sass-1.78.0\n\nBump sass from 1.77.8 to 1.78.0 in /client",
    "author": "Mathias Wagner"
  },
  "repository_info": {
    "structure_summary": ".\n./.git\n./.git/branches\n./.git/description\n./.git/hooks\n./.git/hooks/applypatch-msg.sample\n./.git/hooks/commit-msg.sample\n./.git/hooks/post-update.sample\n./.git/hooks/pre-applypatch.sample\n./.git/hooks/pre-commit.sample\n./.git/hooks/pre-merge-commit.sample\n./.git/hooks/pre-push.sample\n./.git/hooks/pre-receive.sample\n./.git/hooks/push-to-checkout.sample\n./.git/hooks/update.sample\n./.git/hooks/fsmonitor-watchman.sample\n./.git/hooks/pre-rebase.sample\n./.git/hooks/prepare-commit-msg.sample\n./.git/hooks/sendemail-validate.sample\n./.git/info\n./.git/info/exclude\n./.git/config\n./.git/objects\n./.git/objects/pack\n./.git/objects/pack/pack-28d6194dabfd60d60af9b239e9d70f35a1ada2e6.pack\n./.git/objects/pack/pack-28d6194dabfd60d60af9b239e9d70f35a1ada2e6.rev\n./.git/objects/pack/pack-28d6194dabfd60d60af9b239e9d70f35a1ada2e6.idx\n./.git/objects/info\n./.git/HEAD\n./.git/refs\n./.git/refs/heads\n./.git/refs/heads/main\n./.git/refs/tags\n./.git/refs/remotes\n./.git/refs/remotes/origin\n./.git/refs/remotes/origin/HEAD\n./.git/packed-refs\n./.git/logs\n./.git/logs/refs\n./.git/logs/refs/remotes\n./.git/logs/refs/remotes/origin\n./.git/logs/refs/remotes/origin/HEAD\n./.git/logs/refs/heads\n./.git/logs/refs/heads/main\n./.git/logs/HEAD\n./.git/index\n./.github\n./.github/FUNDING.yml\n./.github/ISSUE_TEMPLATE\n./.github/ISSUE_TEMPLATE/bug_report.yml\n./.github/ISSUE_TEMPLATE/feature_request.yml\n./.github/PULL_REQUEST_TEMPLATE.md\n./.github/dependabot.yml\n./.github/workflows\n./.github/workflows/create_release.yml\n./.github/workflows/deploy_docker_dev.yml\n./.github/workflows/deploy_docs.yml\n./.github/workflows/merge-dependabot.yml\n./.gitignore\n./.prettierrc.json\n./LICENSE\n./client\n./client/.gitignore\n./client/eslint.config.js\n./client/index.html\n./client/jsconfig.json\n./client/public\n./client/public/assets\n./client/public/assets/img\n./client/public/assets/img/favicon.png\n./client/public/assets/img/favicon.svg\n./client/src\n./client/src/common\n./client/src/common/components\n./client/src/common/components/Button\n./client/src/common/components/Button/index.js\n./client/src/common/components/Button/Button.jsx\n./client/src/common/components/Button/styles.sass\n./client/src/common/components/Dialog\n./client/src/common/components/Dialog/index.js\n./client/src/common/components/Dialog/Dialog.jsx\n./client/src/common/components/Dialog/styles.sass\n./client/src/common/components/IconInput\n./client/src/common/components/IconInput/IconInput.jsx\n./client/src/common/components/IconInput/index.js\n./client/src/common/components/IconInput/styles.sass\n./client/src/common/components/LoginDialog\n./client/src/common/components/LoginDialog/index.js\n./client/src/common/components/LoginDialog/LoginDialog.jsx\n./client/src/common/components/LoginDialog/styles.sass\n./client/src/common/components/SelectBox\n./client/src/common/components/SelectBox/index.js\n./client/src/common/components/SelectBox/SelectBox.jsx\n./client/src/common/components/SelectBox/styles.sass\n./client/src/common/components/Sidebar\n./client/src/common/components/Sidebar/index.js\n./client/src/common/components/Sidebar/Sidebar.jsx\n./client/src/common/components/Sidebar/styles.sass\n./client/src/common/contexts\n./client/src/common/contexts/IdentityContext.jsx\n./client/src/common/contexts/ServerContext.jsx\n./client/src/common/contexts/UserContext.jsx\n./client/src/common/img\n./client/src/common/img/logo.png\n./client/src/common/img/welcome.png\n./client/src/common/layouts\n./client/src/common/layouts/Root.jsx\n./client/src/common/styles\n./client/src/common/styles/_colors.sass\n./client/src/common/styles/main.sass\n./client/src/common/utils\n./client/src/common/utils/RequestUtil.js\n./client/src/main.jsx\n./client/src/pages\n./client/src/pages/Servers\n./client/src/pages/Servers/components\n./client/src/pages/Servers/components/ProxmoxDialog\n./client/src/pages/Servers/components/ProxmoxDialog/index.js\n./client/src/pages/Servers/components/ProxmoxDialog/ProxmoxDialog.jsx\n./client/src/pages/Servers/components/ProxmoxDialog/styles.sass\n./client/src/pages/Servers/components/ServerDialog\n./client/src/pages/Servers/components/ServerDialog/index.js\n./client/src/pages/Servers/components/ServerDialog/pages\n./client/src/pages/Servers/components/ServerDialog/pages/DetailsPage.jsx\n./client/src/pages/Servers/components/ServerDialog/pages/IdentityPage.jsx\n./client/src/pages/Servers/components/ServerDialog/ServerDialog.jsx\n./client/src/pages/Servers/components/ServerDialog/styles.sass\n./client/src/pages/Servers/components/ServerList\n./client/src/pages/Servers/components/ServerList/components\n./client/src/pages/Servers/components/ServerList/components/ContextMenu\n./client/src/pages/Servers/components/ServerList/components/ContextMenu/index.js\n./client/src/pages/Servers/components/ServerList/components/ContextMenu/ContextMenu.jsx\n./client/src/pages/Servers/components/ServerList/components/ContextMenu/assets\n./client/src/pages/Servers/components/ServerList/components/ContextMenu/assets/proxmox.png\n./client/src/pages/Servers/components/ServerList/components/ContextMenu/styles.sass\n./client/src/pages/Servers/components/ServerList/components/FolderObject\n./client/src/pages/Servers/components/ServerList/components/FolderObject/index.js\n./client/src/pages/Servers/components/ServerList/components/FolderObject/FolderObject.jsx\n./client/src/pages/Servers/components/ServerList/components/FolderObject/styles.sass\n./client/src/pages/Servers/components/ServerList/components/PVEObject\n./client/src/pages/Servers/components/ServerList/components/PVEObject/PVEObject.jsx\n./client/src/pages/Servers/components/ServerList/components/PVEObject/assets\n./client/src/pages/Servers/components/ServerList/components/PVEObject/assets/proxmox.png\n./client/src/pages/Servers/components/ServerList/components/PVEObject/index.js\n./client/src/pages/Servers/components/ServerList/components/PVEObject/styles.sass\n./client/src/pages/Servers/components/ServerList/components/ServerObject\n./client/src/pages/Servers/components/ServerList/components/ServerObject/index.js\n./client/src/pages/Servers/components/ServerList/components/ServerObject/ServerObject.jsx\n./client/src/pages/Servers/components/ServerList/components/ServerObject/styles.sass\n./client/src/pages/Servers/components/ServerList/components/ServerSearch\n./client/src/pages/Servers/components/ServerList/components/ServerSearch/ServerSearch.jsx\n./client/src/pages/Servers/components/ServerList/components/ServerSearch/index.js\n./client/src/pages/Servers/components/ServerList/components/ServerSearch/styles.sass\n./client/src/pages/Servers/components/ServerList/components/CollapsibleFolder.jsx\n./client/src/pages/Servers/components/ServerList/components/ServerEntries.jsx\n./client/src/pages/Servers/components/ServerList/index.js\n./client/src/pages/Servers/components/ServerList/ServerList.jsx\n./client/src/pages/Servers/components/ServerList/styles.sass\n./client/src/pages/Servers/components/ViewContainer\n./client/src/pages/Servers/components/ViewContainer/components\n./client/src/pages/Servers/components/ViewContainer/components/ServerTabs\n./client/src/pages/Servers/components/ViewContainer/components/ServerTabs/index.js\n./client/src/pages/Servers/components/ViewContainer/components/ServerTabs/ServerTabs.jsx\n./client/src/pages/Servers/components/ViewContainer/components/ServerTabs/styles.sass\n./client/src/pages/Servers/components/ViewContainer/index.js\n./client/src/pages/Servers/components/ViewContainer/renderer\n./client/src/pages/Servers/components/ViewContainer/renderer/styles\n./client/src/pages/Servers/components/ViewContainer/renderer/styles/xterm.sass\n./client/src/pages/Servers/components/ViewContainer/renderer/GuacamoleRenderer.jsx\n./client/src/pages/Servers/components/ViewContainer/renderer/XtermRenderer.jsx\n./client/src/pages/Servers/components/ViewContainer/ViewContainer.jsx\n./client/src/pages/Servers/components/ViewContainer/styles.sass\n./client/src/pages/Servers/index.js\n./client/src/pages/Servers/Servers.jsx\n./client/src/pages/Servers/styles.sass\n./client/src/pages/Settings\n./client/src/pages/Settings/components\n./client/src/pages/Settings/components/SettingsNavigation\n./client/src/pages/Settings/components/SettingsNavigation/index.js\n./client/src/pages/Settings/components/SettingsNavigation/SettingsNavigation.jsx\n./client/src/pages/Settings/components/SettingsNavigation/styles.sass\n./client/src/pages/Settings/index.js\n./client/src/pages/Settings/pages\n./client/src/pages/Settings/pages/Account\n./client/src/pages/Settings/pages/Account/dialogs\n./client/src/pages/Settings/pages/Account/dialogs/PasswordChange\n./client/src/pages/Settings/pages/Account/dialogs/PasswordChange/index.js\n./client/src/pages/Settings/pages/Account/dialogs/PasswordChange/PasswordChange.jsx\n./client/src/pages/Settings/pages/Account/dialogs/PasswordChange/styles.sass\n./client/src/pages/Settings/pages/Account/dialogs/TwoFactorAuthentication\n./client/src/pages/Settings/pages/Account/dialogs/TwoFactorAuthentication/TwoFactorAuthentication.jsx\n./client/src/pages/Settings/pages/Account/dialogs/TwoFactorAuthentication/index.js\n./client/src/pages/Settings/pages/Account/dialogs/TwoFactorAuthentication/styles.sass\n./client/src/pages/Settings/pages/Account/index.js\n./client/src/pages/Settings/pages/Account/Account.jsx\n./client/src/pages/Settings/pages/Account/styles.sass\n./client/src/pages/Settings/pages/Sessions\n./client/src/pages/Settings/pages/Sessions/index.js\n./client/src/pages/Settings/pages/Sessions/Sessions.jsx\n./client/src/pages/Settings/pages/Sessions/styles.sass\n./client/src/pages/Settings/Settings.jsx\n./client/src/pages/Settings/styles.sass\n./client/src/App.jsx\n./client/package.json\n./client/vite.config.js\n./client/yarn.lock\n./docker-start.sh\n./docs\n./docs/.vitepress\n./docs/.vitepress/config.mjs\n./docs/public\n./docs/public/CNAME\n./docs/public/favicon.ico\n./docs/public/logo.png\n./docs/public/thumbnail.png\n./docs/index.md\n./docs/preview.md\n./server\n./server/controllers\n./server/controllers/auth.js\n./server/controllers/pve.js\n./server/controllers/account.js\n./server/controllers/folder.js\n./server/controllers/guacamoleProxy.js\n./server/controllers/identity.js\n./server/controllers/pveServer.js\n./server/controllers/server.js\n./server/controllers/session.js\n./server/middlewares\n./server/middlewares/auth.js\n./server/middlewares/guacamole.js\n./server/middlewares/pve.js\n./server/models\n./server/models/Session.js\n./server/models/Account.js\n./server/models/Folder.js\n./server/models/Identity.js\n./server/models/PVEServer.js\n./server/models/Server.js\n./server/routes\n./server/routes/auth.js\n./server/routes/identity.js\n./server/routes/pveLXC.js\n./server/routes/pveQEMU.js\n./server/routes/pveServer.js\n./server/routes/service.js\n./server/routes/session.js\n./server/routes/account.js\n./server/routes/folder.js\n./server/routes/server.js\n./server/routes/sshd.js\n./server/templates\n./server/templates/env.html\n./server/utils\n./server/utils/database.js\n./server/utils/error.js\n./server/utils/errorHandling.js\n./server/utils/pveUpdater.js\n./server/utils/schema.js\n./server/utils/folder.js\n./server/utils/guacamoleStarter.js\n./server/utils/tokenGenerator.js\n./server/validations\n./server/validations/auth.js\n./server/validations/identity.js\n./server/validations/pveServer.js\n./server/validations/account.js\n./server/validations/folder.js\n./server/validations/server.js\n./server/index.js\n./Dockerfile\n./README.md\n./package.json\n./yarn.lock\n",
    "readme": "\n--- ./README.md ---\n[![Contributors][contributors-shield]][contributors-url]\n[![Forks][forks-shield]][forks-url]\n[![Stargazers][stars-shield]][stars-url]\n[![Issues][issues-shield]][issues-url]\n[![MIT License][license-shield]][license-url]\n[![Release][release-shield]][release-url]\n\n<br />\n<p align=\"center\">\n  <a href=\"https://github.com/gnmyt/Nexterm\">\n    <picture>\n        <source media=\"(prefers-color-scheme: dark)\" srcset=\"https://i.imgur.com/WhNYRgX.png\">\n        <img alt=\"Nexterm Banner\" src=\"https://i.imgur.com/TBMT7dt.png\">\n    </picture>\n  </a>\n</p>\n\n## \ud83e\udd14 What is Nexterm?\n\nThe open source server management software for SSH, VNC & RDP\n\n## \ud83d\ude80 Run preview\n\nYou can run a preview of Nexterm by clicking [here](https://docs.nexterm.dev/preview).\n\n## License\n\nDistributed under the MIT license. See `LICENSE` for more information.\n\n[contributors-shield]: https://img.shields.io/github/contributors/gnmyt/Nexterm.svg?style=for-the-badge\n\n[contributors-url]: https://github.com/gnmyt/Nexterm/graphs/contributors\n\n[forks-shield]: https://img.shields.io/github/forks/gnmyt/Nexterm.svg?style=for-the-badge\n\n[forks-url]: https://github.com/gnmyt/Nexterm/network/members\n\n[stars-shield]: https://img.shields.io/github/stars/gnmyt/Nexterm.svg?style=for-the-badge\n\n[stars-url]: https://github.com/gnmyt/Nexterm/stargazers\n\n[issues-shield]: https://img.shields.io/github/issues/gnmyt/Nexterm.svg?style=for-the-badge\n\n[issues-url]: https://github.com/gnmyt/Nexterm/issues\n\n[license-shield]: https://img.shields.io/github/license/gnmyt/Nexterm.svg?style=for-the-badge\n\n[license-url]: https://github.com/gnmyt/Nexterm/blob/master/LICENSE\n\n[release-shield]: https://img.shields.io/github/v/release/gnmyt/Nexterm.svg?style=for-the-badge\n\n[release-url]: https://github.com/gnmyt/Nexterm/releases/latest\n\n\n\n--- ./docs/index.md ---\n---\nlayout: home\n\nhero:\n  name: Nexterm\n  text: Server management\n  tagline: The open source server management software for SSH, VNC & RDP\n  actions:\n    - theme: brand\n      text: Run preview\n      link: /preview\n    - theme: alt\n      text: GitHub\n      link: https://github.com/gnmyt/Nexterm\n  image:\n    src: /logo.png\n    alt: MySpeed\n\nfeatures:\n  - icon: \ud83d\udc40\n    title: Open Preview\n    details: Nexterm is currently in development and is open for preview. \n  - icon: \ud83d\udd12\n    title: Secure\n    details: Nexterm offers two-factor authentication and session management.\n  - icon: \ud83d\udcc1\n    title: Structured\n    details:  Nexterm is structured into folders and tabs for easy navigation.\n---\n\n<style>\n:root {\n  --vp-home-hero-name-color: #314BD3;\n\n  --vp-home-hero-image-background-image: linear-gradient(rgba(49,75,211,0.25), rgba(49,75,211,0.25));\n  --vp-home-hero-image-filter: blur(100px);\n}\n</style>\n\n",
    "readme_filenames": [
      "./README.md",
      "./.github/PULL_REQUEST_TEMPLATE.md",
      "./docs/index.md"
    ],
    "dockerfile": "\n--- ./Dockerfile ---\nFROM node:18-alpine AS client-builder\n\nWORKDIR /app/client\n\nCOPY client/package.json ./\nRUN npm install\n\nCOPY client/ .\nRUN npm run build\n\nFROM node:18-alpine\n\nRUN apk add --no-cache \\\n    cairo-dev jpeg-dev libpng-dev ossp-uuid-dev ffmpeg-dev \\\n    pango-dev libvncserver-dev libwebp-dev openssl-dev freerdp-dev freerdp \\\n    autoconf automake libtool libpulse libogg libc-dev \\\n    python3 py3-pip py3-setuptools make gcc g++ \\\n    && python3 -m venv /opt/venv \\\n    && . /opt/venv/bin/activate \\\n    && pip install --upgrade pip setuptools \\\n    && deactivate \\\n    && apk add --no-cache --virtual .build-deps build-base git\n\nRUN git clone --depth=1 https://github.com/apache/guacamole-server.git \\\n    && cd guacamole-server \\\n    && autoreconf -fi \\\n    && ./configure --with-init-dir=/etc/init.d --enable-rdp \\\n    && make \\\n    && make install \\\n    && cd .. \\\n    && rm -rf guacamole-server\n\nRUN apk del .build-deps \\\n    && rm -rf /var/cache/apk/*\n\nENV NODE_ENV=production\n\nWORKDIR /app\n\nCOPY --from=client-builder /app/client/dist ./dist\n\nCOPY package.json ./\nRUN npm install --omit=dev && npm cache clean --force\n\nCOPY server/ server/\nCOPY docker-start.sh .\n\nRUN chmod +x docker-start.sh\n\nEXPOSE 6989\n\nCMD [\"/bin/sh\", \"docker-start.sh\"]\n\n\n",
    "dockerfile_paths": [
      "./Dockerfile"
    ],
    "github_workflows": {
      ".github/workflows/create_release.yml": "name: Upload the latest release\n\non:\n  push:\n    tags: [ \"v*\" ]\n\njobs:\n  create:\n    name: \"Creates the newest release by version\"\n    runs-on: \"ubuntu-latest\"\n\n    steps:\n      - name: Checkout project\n        uses: actions/checkout@v2.3.4\n        with:\n          fetch-depth: 0\n\n      - name: Setup node\n        uses: actions/setup-node@v3\n        with:\n          node-version: '20'\n\n      - name: Set up QEMU\n        uses: docker/setup-qemu-action@master\n        with:\n          platforms: all\n\n      - name: Set up Docker Build\n        uses: docker/setup-buildx-action@v2\n\n      - name: Login to DockerHub\n        uses: docker/login-action@v2\n        with:\n          username: ${{ secrets.DOCKERHUB_USERNAME }}\n          password: ${{ secrets.DOCKERHUB_TOKEN }}\n\n      - name: Get version from tag\n        id: get_version\n        run: echo \"::set-output name=version::${GITHUB_REF#refs/tags/v}\"\n\n      - name: Update package.json version\n        run: |\n          jq \".version = \\\"${{ steps.get_version.outputs.version }}\\\"\" package.json > tmp.json\n          mv tmp.json package.json\n\n      - name: Check if there are changes to commit\n        id: check_changes\n        run: |\n          git add package.json\n          if git diff-index --quiet HEAD --; then\n            echo \"No changes to commit.\"\n            echo \"::set-output name=changes::false\"\n          else\n            echo \"::set-output name=changes::true\"\n          fi\n\n      - name: Commit version change to main\n        if: steps.check_changes.outputs.changes == 'true'\n        run: |\n          git config --local user.name \"GitHub Actions\"\n          git config --local user.email \"actions@github.com\"\n          git commit -m \"Update version to ${{ steps.get_version.outputs.version }}\"\n          git push origin HEAD:main\n\n      - name: Create GitHub Release\n        uses: \"marvinpinto/action-automatic-releases@latest\"\n        with:\n          repo_token: \"${{ secrets.GITHUB_TOKEN }}\"\n          prerelease: false\n          title: Release ${{ steps.get_version.outputs.version }}\n\n      - name: Build and push Docker image\n        uses: docker/build-push-action@v3\n        with:\n          push: true\n          platforms: linux/amd64,linux/arm64,linux/arm/v7\n          tags: |\n            germannewsmaker/nexterm:latest\n            germannewsmaker/nexterm:${{ steps.get_version.outputs.version }}",
      ".github/workflows/deploy_docker_dev.yml": "name: Deploy Development Release to DockerHub\n\non:\n  push:\n    branches: [ \"main\" ]\n\njobs:\n  docker:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Checkout\n        uses: actions/checkout@v3\n\n      - name: Set up QEMU\n        uses: docker/setup-qemu-action@master\n        with:\n          platforms: all\n\n      - name: Set up Docker Build\n        uses: docker/setup-buildx-action@v2\n\n      - name: Login to DockerHub\n        uses: docker/login-action@v2\n        with:\n          username: ${{ secrets.DOCKERHUB_USERNAME }}\n          password: ${{ secrets.DOCKERHUB_TOKEN }}\n\n      - name: Build and push\n        uses: docker/build-push-action@v3\n        with:\n          push: true\n          platforms: linux/amd64\n          tags: germannewsmaker/nexterm:development",
      ".github/workflows/deploy_docs.yml": "name: Deploy VitePress site to Pages\n\non:\n  push:\n    branches: [main]\n    paths: ['docs/**']\n  workflow_dispatch:\n\npermissions:\n  contents: read\n  pages: write\n  id-token: write\n\nconcurrency:\n  group: pages\n  cancel-in-progress: false\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Checkout\n        uses: actions/checkout@v4\n        with:\n          fetch-depth: 0\n      - name: Setup Node\n        uses: actions/setup-node@v4\n        with:\n          node-version: 20\n          cache: yarn\n      - name: Setup Pages\n        uses: actions/configure-pages@v4\n      - name: Install dependencies\n        run: yarn install\n      - name: Build with VitePress\n        run: yarn run docs:build\n      - name: Upload artifact\n        uses: actions/upload-pages-artifact@v3\n        with:\n          path: docs/.vitepress/dist\n\n  deploy:\n    environment:\n      name: github-pages\n      url: ${{ steps.deployment.outputs.page_url }}\n    needs: build\n    runs-on: ubuntu-latest\n    name: Deploy\n    steps:\n      - name: Deploy to GitHub Pages\n        id: deployment\n        uses: actions/deploy-pages@v4"
    }
  },
  "llm_calls_before_build": 0,
  "github_workflows_found": [
    ".github/workflows/create_release.yml",
    ".github/workflows/deploy_docker_dev.yml",
    ".github/workflows/deploy_docs.yml"
  ],
  "dockerfile": "FROM node:18-alpine AS client-builder\n\n# Install required tools for cloning and building\nRUN apk add --no-cache git\n\n# Clone repository and checkout specific commit\nWORKDIR /app\nRUN git clone https://github.com/gnmyt/Nexterm.git && \\\n    cd Nexterm && \\\n    git checkout 071c478e9b29827feb5419157d65048c332c11a9\n\n# Build client\nWORKDIR /app/Nexterm/client\nRUN npm install && npm run build\n\nFROM node:18-alpine\n\n# Install system dependencies for Guacamole and native modules\nRUN apk add --no-cache \\\n    cairo-dev jpeg-dev libpng-dev ossp-uuid-dev ffmpeg-dev \\\n    pango-dev libvncserver-dev libwebp-dev openssl-dev freerdp-dev freerdp \\\n    autoconf automake libtool libpulse libogg libc-dev \\\n    python3 py3-pip py3-setuptools make gcc g++ \\\n    && python3 -m venv /opt/venv \\\n    && . /opt/venv/bin/activate \\\n    && pip install --upgrade pip setuptools \\\n    && deactivate\n\n# Build Guacamole server\nRUN apk add --no-cache --virtual .build-deps build-base git && \\\n    git clone --depth=1 https://github.com/apache/guacamole-server.git && \\\n    cd guacamole-server && \\\n    autoreconf -fi && \\\n    ./configure --with-init-dir=/etc/init.d --enable-rdp && \\\n    make && \\\n    make install && \\\n    cd .. && \\\n    rm -rf guacamole-server && \\\n    apk del .build-deps\n\n# Prepare production environment\nENV NODE_ENV=production\nWORKDIR /app\n\n# Copy built client from builder\nCOPY --from=client-builder /app/Nexterm/client/dist ./dist\n\n# Copy server files from repository clone\nCOPY --from=client-builder /app/Nexterm/package.json .\nCOPY --from=client-builder /app/Nexterm/server ./server\n\n# Install production dependencies\nRUN npm install --omit=dev && npm cache clean --force\n\n# Copy startup script from repository\nCOPY --from=client-builder /app/Nexterm/docker-start.sh .\nRUN chmod +x docker-start.sh\n\n# Expose default port (kept for documentation purposes)\nEXPOSE 6989",
  "dockerfile_source": "Repository at Dockerfile",
  "dockerfile_attempt_1": 1,
  "dockerfile_build_success": true,
  "successful_candidate_index": 3,
  "successful_candidate_attempt": 1,
  "successful_candidate_improvement_attempt": 0,
  "llm_calls_total": 5
}